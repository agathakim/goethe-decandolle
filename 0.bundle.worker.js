!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([,function(t,e,n){var r=n(11),a=n(12),i="undefined"!=typeof Float64Array;function o(t,e){return t[0]-e[0]}function u(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(o);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function s(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var a="generic"===t;if(-1===e){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===e){i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(a?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(a?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var o=r(e),s=o.map(function(t){return"i"+t}),l="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=o.map(function(t){return"b"+t}).join(","),h=o.map(function(t){return"c"+t}).join(",");i.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+n+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+s.join(",")+",v){"),a?i.push("return this.data.set("+l+",v)}"):i.push("return this.data["+l+"]=v}"),i.push("proto.get=function "+n+"_get("+s.join(",")+"){"),a?i.push("return this.data.get("+l+")}"):i.push("return this.data["+l+"]}"),i.push("proto.index=function "+n+"_index(",s.join(),"){return "+l+"}"),i.push("proto.hi=function "+n+"_hi("+s.join(",")+"){return new "+n+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var p=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),d=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+n+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var g=0;g<e;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");i.push("return new "+n+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+s.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<e;++g)i.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");i.push("return new "+n+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");var y=new Array(e),m=new Array(e);for(g=0;g<e;++g)y[g]="a[i"+g+"]",m[g]="b[i"+g+"]";i.push("proto.transpose=function "+n+"_transpose("+s+"){"+s.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+m.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+s+"){var a=[],b=[],c=this.offset");for(g=0;g<e;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],u)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var o=e.length;if(void 0===n){n=new Array(o);for(var u=o-1,l=1;u>=0;--u)n[u]=l,l*=e[u]}if(void 0===r)for(r=0,u=0;u<o;++u)n[u]<0&&(r-=(e[u]-1)*n[u]);for(var f=function(t){if(a(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),h=c[f];h.length<=o+1;)h.push(s(f,h.length-1));return(0,h[o+1])(t,e,n,r)}},function(t,e,n){"use strict";var r=n(19),a=n(4),i=["args","body"],o=["pre","post","printCode","funcName","blockSize"];t.exports=function(t){for(var e in t)i.indexOf(e)<0&&o.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<i.length;++n)if(!t[i[n]])throw new Error("cwise: Missing argument: "+i[n]);return a({args:t.args,pre:r(t.pre||function(){}),body:r(t.body),post:r(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}},function(t,e,n){"use strict";var r=n(4),a={body:"",args:[],thisVars:[],localVars:[]};function i(t){if(!t)return a;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:i(t.pre),body:i(t.body),post:i(t.proc),funcName:t.funcName})}(t))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in s){var n=s[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){var e=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var a=0;a<n.length;++a){var i=n[a];if("array"===i||"object"==typeof i&&i.blockIndices){if(e.argTypes[a]="array",e.arrayArgs.push(a),e.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),e.shimArgs.push("array"+a),a<e.pre.args.length&&e.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<e.post.args.length&&e.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)e.scalarArgs.push(a),e.shimArgs.push("scalar"+a);else if("index"===i){if(e.indexArgs.push(a),a<e.pre.args.length&&e.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<e.body.args.length&&e.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<e.post.args.length&&e.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(e.shapeArgs.push(a),a<e.pre.args.length&&e.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<e.body.args.length&&e.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<e.post.args.length&&e.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+n[a]);e.argTypes[a]="offset",e.offsetArgs.push({array:i.array,offset:i.offset}),e.offsetArgIndex.push(a)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,r(e)}},function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,a=t[0],i=t[0],o=1;o<r;++o)if(i=a,e(a=t[o],i)){if(o===n){n++;continue}t[n++]=a}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],a=t[0],i=1;i<n;++i,a=r)if(a=r,(r=t[i])!==a){if(i===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.shape[0],a=(0,r.default)(new Float64Array(n*n),[n,n]);switch(e){case"euclidean":for(var i=0;i<n;i++)for(var l=i+1;l<n;l++){var f=o(t.pick(i,null),t.pick(l,null));a.set(i,l,f),a.set(l,i,f)}break;case"manhattan":for(i=0;i<n;i++)for(l=i+1;l<n;l++){f=u(t.pick(i,null),t.pick(l,null));a.set(i,l,f),a.set(l,i,f)}break;case"jaccard":for(i=0;i<n;i++)for(l=i+1;l<n;l++){f=s(t.pick(i,null),t.pick(l,null));a.set(i,l,f),a.set(l,i,f)}break;case"dice":for(i=0;i<n;i++)for(l=i+1;l<n;l++){f=c(t.pick(i,null),t.pick(l,null));a.set(i,l,f),a.set(l,i,f)}}return a};var r=i(n(1)),a=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}var o=(0,a.default)({args:["array","array"],pre:function(t,e){this.sum=0},body:function(t,e){var n=t-e;this.sum+=n*n},post:function(t,e){return Math.sqrt(this.sum)}}),u=(0,a.default)({args:["array","array"],pre:function(t,e){this.sum=0},body:function(t,e){this.sum+=Math.abs(t-e)},post:function(t,e){return this.sum}}),s=(0,a.default)({args:["array","array"],pre:function(t,e){this.tf=0,this.tt=0},body:function(t,e){var n=Math.round(t),r=Math.round(e);this.tf+=+(n!=r),this.tt+=+(1==n&&1==r)},post:function(t,e){return this.tf+this.tt===0?1:this.tf/(this.tf+this.tt)}}),c=(0,a.default)({args:["array","array"],pre:function(t,e){this.tf=0,this.tt=0},body:function(t,e){var n=Math.round(t),r=Math.round(e);this.tf+=+(n!=r),this.tt+=+(1==n&&1==r)},post:function(t,e){return this.tf+this.tt===0?1:this.tf/(this.tf+2*this.tt)}});t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.assign,e.files=[{name:"Goethe",filePrefix:"Goethe"},{name:"De Candolle 1 (DC1)",filePrefix:"DC1"},{name:"De Candolle 2 (DC2)",filePrefix:"DC2"},{name:"De Candolle 3 (DC3)",filePrefix:"DC3"}],(e.COLORS_FOR_LEGEND=[{label:"Romantic",tag:"(Rom)",color:"#62ACFF"},{label:"Classical",tag:"(Clas)",color:"#00B318"},{label:"Empirical",tag:"(Emp)",color:"#FFFF03"},{label:"Inductive",tag:"(Induc)",color:"#BA00B4"},{label:"Deductive",tag:"(Deduc)",color:"#80FF00"},{label:"Rational/Speculative",tag:"(Ratio)",color:"#FFA2E1"},{label:"Analogical",tag:"(Anlg)",color:"#FF0011"},{label:"Methodological",tag:"(Method)",color:"#A9FFD2"},{label:"Historical/Descriptive",tag:"(Hist)",color:"#1100FF"},{label:"Philosophical definition",tag:"(Phil)",color:"#CC99FF"},{label:"Metaphorical/Visual",tag:"(Metaph)",color:"#FFAE5C"},{label:"Metaphors attributing agency to nature",tag:"(Agncy)",color:"#9F5103"},{label:"Future/Utility",tag:"(Fut)",color:"#FF007F"},{label:"Classificatory",tag:"(Clsf)",color:"#666600"},{label:"Numerical",tag:"(Num)",color:"#000000"},{label:"Writing aim/direction",tag:"(Wr)",color:"#808080"},{label:"Blank statement",tag:"(Bl)",color:"#FFFFFF"}].map(function(t,e){return t})).reduce(function(t,e){var n=e.color;return t[e.oldColor]=n,t},{}),e.COLORS=Object.entries({Romantic:"#62ACFF",Classical:"#00B318",Empirical:"#FFFF03",Inductive:"#BA00B4",Deductive:"#80FF00","Rational/Speculative":"#FFA2E1","Rational, Speculative":"#FFA2E1","Rational-Speculative":"#FFA2E1",Analogical:"#FF0011",Methodological:"#A9FFD2","Historical/Descriptive":"#1100FF","Historical, Descriptive":"#1100FF","Historical, descriptive":"#1100FF",Historical:"#1100FF","Philosophical, epistemological":"#CC99FF","Philosophical definition":"#CC99FF",Philosophical:"#CC99FF","Metaphorical/Visual":"#FFAE5C","metaphorical, visual":"#FFAE5C",Metaphorical:"#FFAE5C","Metaphorical-Agency to nature":"#9F5103","Metaphors attributing agency to nature":"#9F5103","agency to nature":"#9F5103","Future/Utility":"#FF007F","Future, Utility":"#FF007F","Future-Utility":"#FF007F","Classificatory/definition":"#666600","Classificatory definition":"#666600",Classificatory:"#666600",Numerical:"#000000","Writing aim/direction":"#808080","Writing aim, direction":"#808080","Writing direction":"#808080","Blank statement":"#FFFFFF",Blank:"#FFFFFF"}).reduce(function(t,e){var n=r(e,2),a=n[0],i=n[1];return t[a.toLowerCase()]=i,t},{}),e.categoryRelationships=[{cat:"Empirical",superCat:"Descriptive"},{cat:"Historical",superCat:"Descriptive"},{cat:"Classificatory",superCat:"Descriptive"},{cat:"Numerical",superCat:"Descriptive"},{cat:"Philosophical",superCat:"Characterizing"},{cat:"Methodological",superCat:"Characterizing"},{cat:"Classical",superCat:"Characterizing"},{cat:"Romantic",superCat:"Characterizing"},{cat:"Rational-Speculative",superCat:"Logical"},{cat:"Inductive",superCat:"Logical"},{cat:"Deductive",superCat:"Logical"},{cat:"Analogical",superCat:"Logical"},{cat:"Metaphorical",superCat:"Decorative"},{cat:"Metaphorical-Agency to nature",superCat:"Decorative"},{cat:"Future-Utility",superCat:"Persuasive"},{cat:"Writing direction",superCat:"Persuasive"},{cat:"Blank",superCat:"NA"}].map(function(t){return{cat:t.cat,superCat:""}}),e.DESCRIPTIONS={Goethe:{fullName:"Goethe, Metamorphosis of Plants",description:"This work was originally published in 1790, but was translated into French only in 1829. After the famous public debate between the two leading French naturalists Georges Cuvier and Étienne Geoffroy Saint-Hilaire on the theories of animal structures and the methods and philosophies behind them, Goethe’s work was put in the spotlight, and was published in a French-German edition in 1831.\n    In this work, Goethe described plant growth in terms of serial homology, where a plant organ went through transformations (cotyledons, stem leaves, calyx, corolla, stamen, fruit, etc.) by alternately contracting and expanding its form. Goethe designated the leaf as the protean organ, or the Archetype of all the variations of plant forms. (The image to the right: the Archetypal plant as imagined by P. J. F. Turpin, 1837.) He considered these potential forms as equal in value—there was no hierarchy between the “regular” and “irregular” forms, which was a main disagreement between Goethe and De Candolle."},DC1:{fullName:"De Candolle, Essai sur les propriétés médicales des plantes (1804)",description:"De Candolle’s goal in this work was to assert his Theory of Analogy, which argued that there was continuity between plant forms and properties. However, this theory asked one to look beyond the immediately visible plant forms because analogous plants could produce various effects while some non-analogous plants could produce similar effects on human. Instead, one had to distinguish which plant properties and structures were normative or accidental, as well as consider the modes in which plants produced their effects.\n    De Candolle promised that this theory would help get rid of the apparent anomalies and re-classify them correctly according to the natural order, which would benefit the practical uses of plant medicines, especially in the colonial world.\n    Although he argued that the environment could modify plant forms and properties and create the apparent anomalies, De Candolle remained silent, unlike Goethe or Saint-Hilaire, on the historical and evolutionary implications that these anomalies could offer."},DC2:{fullName:"De Candolle, Essai élémentaire de géographie botanique (1820)",description:"The topic of this text is “botanical geography,” which De Candolle defined as the “methodical study of facts relating to the distribution of plants on the globe,” and of the “general laws that can be deduced from them.” De Candolle made a firm distinction between “habitation (countries in which plants grow)” and “station (topographic nature of localities in which plants usually grow)” because he viewed the confusion between the two has prevented botanists from making the correct, natural classification of plants.\n    This text is filled with empirical observations and statistical information to support De Candolle’s point that certain external factors (ex. amount of light, soil type, competition with local plants, etc.) and combinations of these factors have determined the distribution of plant species. As for the question of from where and how plants have originally spread throughout the world, he speculated that an ancient deluge must have occurred to transport species to unlikely regions, thereby implying his rejection of the idea of plant evolution from earlier species."},DC3:{fullName:"De Candolle, Organographie végétale, Book V, Chapter II (1827)",description:"This is the most important text for the comparison between Goethe’s and De Candolle’s botany because it explains the key concepts of the primitive type and symmetry, which are similar to Goethe’s morphological concepts. In fact, Goethe considered this chapter important enough that he translated it into German himself.\n    Unlike other two texts by De Candolle, this text hardly contains empirical information because it focuses on the concepts and the methodology, philosophy, and history behind them. His concept of symmetry, or the “non-geometrical regularity of organized bodies,” was roughly equivalent to Goethe’s concept of plant type, and served as the normative form that could undergo modifications, or “degenerations” (the term which Goethe disliked,) resulting in diverse plant forms in the present world.\n    De Candolle strongly identified with René-Just Haüy’s method for crystallography. He also mentioned and acknowledged the similarity between Goethe’s and his own morphological views, but criticized Goethe’s ideas as being too general without enough facts."}},e.TARGET_WIDTH=10,e.WAFFLE_WIDTH=600,e.WAFFLE_HEIGHT=450,e.CHART_MARGIN={top:30,bottom:30,left:30,right:30}},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(n(9)),i=n(27),o=n(26),u=n(7),s=n(25);addEventListener("message",function(t){var e=t.data,n=e.nodes,c=e.links,l=e.noOffscreen;!function(t){t.forEach(function(t){var e=t.colors.reduce(function(t,e){return t[e]=!0,t},{});t.featureVector=u.COLORS_FOR_LEGEND.map(function(t){var n=t.color;return e[n]?1:0})});var e=new a.default({dim:2,perplexity:10,earlyExaggeration:10,learningRate:100,nIter:200,metric:"dice"});e.on("progressIter",function(t){var e=r(t,3),n=e[0];e[1],e[2],postMessage({type:"tick",progress:n/200*.5})}),e.init({data:t.map(function(t){return t.featureVector}),type:"dense"});var n=e.run(),i=r(n,2),s=i[0],c=i[1];console.log(s,c);var l=(0,o.scaleLinear)().domain([-1,1]).range([u.CHART_MARGIN.left,u.WAFFLE_WIDTH-u.CHART_MARGIN.right]),f=(0,o.scaleLinear)().domain([-1,1]).range([u.CHART_MARGIN.top,u.WAFFLE_HEIGHT-u.CHART_MARGIN.bottom]),h=e.getOutputScaled().map(function(t){var e=r(t,2),n=e[0],a=e[1];return[l(n),f(a)]});t.forEach(function(t,e){t.x=h[e][0],t.y=h[e][1]})}(n),function(t){for(var e=0,n=Math.ceil(Math.log(t.alphaMin())/Math.log(1-t.alphaDecay()));e<n;++e)postMessage({type:"tick",progress:e/n+.5}),t.tick()}(function(t,e){var n=(0,i.forceLink)().distance(8).links(e).id(function(t){return t.sentenceIdx}),r=(0,i.forceCollide)().radius(function(t){return 8}).iterations(2);return(0,i.forceSimulation)(t).force("link",n).force("center",(0,i.forceCenter)(u.WAFFLE_WIDTH/2,u.WAFFLE_HEIGHT/2)).force("collide",r).force("charge",(0,i.forceManyBody)().strength(-4e3)).stop()}(n,c)),postMessage({type:"end",nodes:n});var f=(0,s.computeDomain)(n),h=f.minX,p=f.maxX,d=f.minY,g=f.maxY,y=(0,o.scaleLinear)().domain([h,p]).range([u.CHART_MARGIN.left,u.WAFFLE_WIDTH-u.CHART_MARGIN.right]),m=(0,o.scaleLinear)().domain([d,g]).range([u.CHART_MARGIN.top,u.WAFFLE_HEIGHT-u.CHART_MARGIN.bottom]);if(!l){var v=t.data.canvas.getContext("2d");v.globalAlpha=.3,c.forEach(function(t){v.beginPath(),v.moveTo(y(t.source.x),m(t.source.y)),v.lineTo(y(t.target.x),m(t.target.y)),v.stroke(),v.strokeStyle=t.color,v.closePath()})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=g(n(1)),u=g(n(3)),s=g(n(15)),c=g(n(17)),l=g(n(2)),f=g(n(22)),h=g(n(6)),p=g(n(23)),d=g(n(24));function g(t){return t&&t.__esModule?t:{default:t}}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(e).call(this));return t=t||{},n.dim=t.dim||2,n.perplexity=t.perplexity||30,n.earlyExaggeration=t.earlyExaggeration||4,n.learningRate=t.learningRate||1e3,n.nIter=t.nIter||1e3,n.metric=t.metric||"euclidean",n.barneshut=t.barneshut||!1,n.inputData=null,n.outputEmbedding=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.EventEmitter),a(e,[{key:"init",value:function(t){var e=(t=t||{}).data||[],n=t.type||"dense";if("dense"===n)this.inputData=(0,s.default)(e);else{if("sparse"!==n)throw new Error("input data type must be dense or sparse");for(var r=[],a=1,i=function(t){var n=Math.max.apply(null,e.map(function(e){return e[t]}))+1;r.push(n),a*=n},u=0;u<e[0].length;u++)i(u);this.inputData=(0,o.default)(new Float64Array(a),r);var c=!0,l=!1,h=void 0;try{for(var p,d=e[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g,m=p.value;(g=this.inputData).set.apply(g,y(m).concat([1]))}}catch(t){l=!0,h=t}finally{try{!c&&d.return&&d.return()}finally{if(l)throw h}}}this.outputEmbedding=(0,f.default)(this.inputData.shape[0],this.dim)}},{key:"run",value:function(){this.emit("progressStatus","Calculating pairwise distances"),this.distances=(0,h.default)(this.inputData,this.metric),this.emit("progressStatus","Calculating joint probabilities"),this.alpha=Math.max(this.dim-1,1),this.P=(0,p.default)(this.distances,this.perplexity);var t=Number.MAX_VALUE,e=0;this.emit("progressStatus","Early exaggeration with momentum 0.5"),u.default.mulseq(this.P,this.earlyExaggeration);var n=this._gradDesc(e,50,.5,0,0),a=r(n,2);a[0],e=a[1],this.emit("progressStatus","Early exaggeration with momentum 0.8");var i=this._gradDesc(e+1,100,.8,0,0),o=r(i,2);o[0],e=o[1],this.emit("progressStatus","Final optimization with momentum 0.8"),u.default.divseq(this.P,this.earlyExaggeration);var s=this._gradDesc(e+1,this.nIter,.8,1e-6,1e-6),c=r(s,2);return t=c[0],e=c[1],this.emit("progressStatus","Optimization end"),[t,e]}},{key:"rerun",value:function(){this.outputEmbedding=(0,f.default)(this.inputData.shape[0],this.dim);var t=this.run(),e=r(t,2);return[e[0],e[1]]}},{key:"getOutput",value:function(){return(0,c.default)(this.outputEmbedding)}},{key:"getOutputScaled",value:function(){for(var t=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),e=(0,o.default)(new Float64Array(this.outputEmbedding.shape[0]),[this.outputEmbedding.shape[0]]),n=0;n<this.outputEmbedding.shape[1];n++){var r=u.default.sup(u.default.abs(e,this.outputEmbedding.pick(null,n)));u.default.divs(t.pick(null,n),this.outputEmbedding.pick(null,n),r)}return(0,c.default)(t)}},{key:"_gradDesc",value:function(t,e,n){for(var a=arguments.length<=3||void 0===arguments[3]?1e-6:arguments[3],i=arguments.length<=4||void 0===arguments[4]?1e-6:arguments[4],s=(0,o.default)(new Float64Array(this.outputEmbedding.size),this.outputEmbedding.shape),c=new Float64Array(this.outputEmbedding.size),f=0;f<c.length;f++)c[f]=1;var h=(0,o.default)(c,this.outputEmbedding.shape),p=Number.MAX_VALUE,g=Number.MAX_VALUE,y=0,m=(0,l.default)({args:["array"],pre:function(t){this.sum=0},body:function(t){this.sum+=t*t},post:function(t){return Math.sqrt(this.sum)}}),v=(0,l.default)({args:["array","array","array"],body:function(t,e,n){e*n>=0?t+=.05:t*=.95,t=Math.max(t,.01)}}),b=void 0;for(b=t;b<e;b++){var w=(0,d.default)(this.outputEmbedding,this.P,this.alpha),x=r(w,2),_=x[0],k=x[1],M=Math.abs(_-p);p=_;var S=m(k);if(this.emit("progressIter",[b,p,S]),p<g)g=p,y=b;else if(b-y>30)break;if(a>=S)break;if(i>=M)break;v(h,s,k),u.default.muleq(k,h);var C=(0,o.default)(new Float64Array(k.size),k.shape);u.default.muls(C,k,this.learningRate),u.default.mulseq(s,n),u.default.subeq(s,C),u.default.addeq(this.outputEmbedding,s),this.emit("progressData",this.getOutputScaled())}return[p,b]}}]),e}();e.default=m,t.exports=e.default},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,u,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(i(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(a(n))for(u=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(t,a),n||(n=!0,e.apply(this,arguments))}return a.listener=e,this.on(t,a),this},n.prototype.removeListener=function(t,e){var n,i,o,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(u=o;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){i=u;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[],a=t.funcName+"_cwise_thunk";e.push(["return function ",a,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],u=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],c=[],l=0;l<t.arrayArgs.length;++l){var f=t.arrayArgs[l];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),u.push("array"+f+".data"),u.push("array"+f+".stride"),u.push("array"+f+".offset|0"),l>0&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)u.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",u.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,t))}},function(t,e,n){"use strict";var r=n(5);function a(t,e,n){var r,a,i=t.length,o=e.arrayArgs.length,u=e.indexArgs.length>0,s=[],c=[],l=0,f=0;for(r=0;r<i;++r)c.push(["i",r,"=0"].join(""));for(a=0;a<o;++a)for(r=0;r<i;++r)f=l,l=t[r],0===r?c.push(["d",a,"s",r,"=t",a,"p",l].join("")):c.push(["d",a,"s",r,"=(t",a,"p",l,"-s",f,"*t",a,"p",f,")"].join(""));for(c.length>0&&s.push("var "+c.join(",")),r=i-1;r>=0;--r)l=t[r],s.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(s.push(n),r=0;r<i;++r){for(f=l,l=t[r],a=0;a<o;++a)s.push(["p",a,"+=d",a,"s",r].join(""));u&&(r>0&&s.push(["index[",f,"]-=s",f].join("")),s.push(["++index[",l,"]"].join(""))),s.push("}")}return s.join("\n")}function i(t,e,n){for(var r=t.body,a=[],i=[],o=0;o<t.args.length;++o){var u=t.args[o];if(!(u.count<=0)){var s=new RegExp(u.name,"g"),c="",l=e.arrayArgs.indexOf(o);switch(e.argTypes[o]){case"offset":var f=e.offsetArgIndex.indexOf(o);l=e.offsetArgs[f].array,c="+q"+f;case"array":c="p"+l+c;var h="l"+o,p="a"+l;if(0===e.arrayBlockIndices[l])1===u.count?"generic"===n[l]?u.lvalue?(a.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(s,h),i.push([p,".set(",c,",",h,")"].join(""))):r=r.replace(s,[p,".get(",c,")"].join("")):r=r.replace(s,[p,"[",c,"]"].join("")):"generic"===n[l]?(a.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(s,h),u.lvalue&&i.push([p,".set(",c,",",h,")"].join(""))):(a.push(["var ",h,"=",p,"[",c,"]"].join("")),r=r.replace(s,h),u.lvalue&&i.push([p,"[",c,"]=",h].join("")));else{for(var d=[u.name],g=[c],y=0;y<Math.abs(e.arrayBlockIndices[l]);y++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(y+1)+"*t"+l+"b"+y);if(s=new RegExp(d.join(""),"g"),c=g.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(s,[p,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(s,"Y"+e.scalarArgs.indexOf(o));break;case"index":r=r.replace(s,"index");break;case"shape":r=r.replace(s,"shape")}}}return[a.join("\n"),r,i.join("\n")].join("\n").trim()}t.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,o=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),s=0;s<t.arrayArgs.length;++s)u[s]=e[2*s],o[s]=e[2*s+1];var c=[],l=[],f=[],h=[],p=[];for(s=0;s<t.arrayArgs.length;++s){t.arrayBlockIndices[s]<0?(f.push(0),h.push(n),c.push(n),l.push(n+t.arrayBlockIndices[s])):(f.push(t.arrayBlockIndices[s]),h.push(t.arrayBlockIndices[s]+n),c.push(0),l.push(t.arrayBlockIndices[s]));for(var d=[],g=0;g<o[s].length;g++)f[s]<=o[s][g]&&o[s][g]<h[s]&&d.push(o[s][g]-f[s]);p.push(d)}var y=["SS"],m=["'use strict'"],v=[];for(g=0;g<n;++g)v.push(["s",g,"=SS[",g,"]"].join(""));for(s=0;s<t.arrayArgs.length;++s){for(y.push("a"+s),y.push("t"+s),y.push("p"+s),g=0;g<n;++g)v.push(["t",s,"p",g,"=t",s,"[",f[s]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[s]);++g)v.push(["t",s,"b",g,"=t",s,"[",c[s]+g,"]"].join(""))}for(s=0;s<t.scalarArgs.length;++s)y.push("Y"+s);if(t.shapeArgs.length>0&&v.push("shape=SS.slice(0)"),t.indexArgs.length>0){var b=new Array(n);for(s=0;s<n;++s)b[s]="0";v.push(["index=[",b.join(","),"]"].join(""))}for(s=0;s<t.offsetArgs.length;++s){var w=t.offsetArgs[s],x=[];for(g=0;g<w.offset.length;++g)0!==w.offset[g]&&(1===w.offset[g]?x.push(["t",w.array,"p",g].join("")):x.push([w.offset[g],"*t",w.array,"p",g].join("")));0===x.length?v.push("q"+s+"=0"):v.push(["q",s,"=",x.join("+")].join(""))}var _=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((v=v.concat(_)).length>0&&m.push("var "+v.join(",")),s=0;s<t.arrayArgs.length;++s)m.push("p"+s+"|=0");t.pre.body.length>3&&m.push(i(t.pre,t,u));var k=i(t.body,t,u),M=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(p);M<n?m.push(function(t,e,n,r){for(var i=e.length,o=n.arrayArgs.length,u=n.blockSize,s=n.indexArgs.length>0,c=[],l=0;l<o;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<i;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",u,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",u].join("")),c.push(["j",l,"-=",u,"}"].join("")),s&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<o;++l){for(var f=["offset"+l],h=t;h<i;++h)f.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}for(c.push(a(e,n,r)),l=t;l<i;++l)c.push("}");return c.join("\n")}(M,p[0],t,k)):m.push(a(p[0],t,k)),t.post.body.length>3&&m.push(i(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+m.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",o[0].join("s"),"m",M,function(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var a=t[r],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?e[r]="u"+a.charAt(1)+i:e[r]=a.charAt(0)+i,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}(u)].join("");return new Function(["function ",S,"(",y.join(","),"){",m.join("\n"),"} return ",S].join(""))()}},function(t,e,n){"use strict";var r=n(1),a=n(16);t.exports=function(t,e){for(var n=[],i=t,o=1;Array.isArray(i);)n.push(i.length),o*=i.length,i=i[0];return 0===n.length?r():(e||(e=r(new Float64Array(o),n)),a(e,t),e)}},function(t,e,n){t.exports=n(4)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(t,e,n){"use strict";var r=n(18),a=n(2)({args:["array","scalar","index"],body:function(t,e,n){var r,a=e;for(r=0;r<n.length-1;++r)a=a[n[r]];a[n[n.length-1]]=t}});t.exports=function(t){var e=r(t.shape);return a(t,e),e}},function(t,e,n){"use strict";t.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var a=0|e[r];if(a<=0)return[];var i,o=new Array(a);if(r===e.length-1)for(i=0;i<a;++i)o[i]=n;else for(i=0;i<a;++i)o[i]=t(e,n,r+1);return o}(t,e,0)}return[]}},function(t,e,n){"use strict";(function(e){var r=n(21),a=n(5),i=0;function o(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}t.exports=function(t){for(var n=["(",t,")()"].join(""),u=r.parse(n,{range:!0}),s="_inline_"+i+++"_",c=function(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}(u),l=new Array(c.length),f=0;f<c.length;++f)l[f]=new o([s,"arg",f,"_"].join(""),!1,!1);for(var h=new Array(n.length),p=(f=0,n.length);f<p;++f)h[f]=n.charAt(f);var d=[],g=[];function y(t,e){for(var n=t.range[0],r=t.range[1],a=n+1;a<r;++a)h[a]="";h[n]=e}var m=1,v=2;return function t(n,r){if(n.parent=r,"MemberExpression"===n.type)n.computed?(t(n.object,n),t(n.property,n)):"ThisExpression"===n.object.type?y(n,function(t){var e="this_"+t.replace(/\_/g,"__");return g.push(e),e}(n.property.name)):t(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var a=n.name,i=c.indexOf(a);if(i>=0){var o=l[i],u=function(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?m:m|v:"UpdateExpression"===t.parent.type?m|v:v}(n);u&m&&(o.lvalue=!0),u&v&&(o.rvalue=!0),++o.count,y(n,o.name)}else(function(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?t in window:void 0!==e?t in e:"undefined"!=typeof self&&t in self})(a)||y(n,function(t){var e=s+t.replace(/\_/g,"__");return d.push(e),e}(a))}else if("Literal"===n.type)"string"==typeof n.value&&y(n,function(t){return"'"+t.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}(n.value));else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var f=Object.keys(n),h=0,p=f.length;h<p;++h)if("parent"!==f[h]){var b=n[f[h]];if(b)if(b instanceof Array)for(var w=0;w<b.length;++w)b[w]&&"string"==typeof b[w].type&&t(b[w],n);else"string"==typeof b.type&&t(b,n)}}}}(u.body[0].expression.callee.body,void 0),a(d),a(g),new function(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}(function(t){return h.slice(t.range[0],t.range[1]).join("")}(u.body[0].expression.callee.body),l,g,d)}}).call(this,n(20))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,a,i;!function(n,o){"use strict";a=[e],void 0===(i="function"==typeof(r=function(t){var e,n,r,a,i,o,u,s,c,l,f,h,p,d,g,y,m,v;function b(t,e){if(!t)throw new Error("ASSERT: "+e)}function w(t){return t>=48&&t<=57}function x(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function _(t){return"01234567".indexOf(t)>=0}function k(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function M(t){return 10===t||13===t||8232===t||8233===t}function S(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function C(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function A(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function E(t){return"eval"===t||"arguments"===t}function N(t,e,n,r,a){var i;b("number"==typeof n,"Comment must have valid position"),m.lastCommentStart>=n||(m.lastCommentStart=n,i={type:t,value:e},v.range&&(i.range=[n,r]),v.loc&&(i.loc=a),v.comments.push(i),v.attachComment&&(v.leadingComments.push(i),v.trailingComments.push(i)))}function F(t){var e,n,r,a;for(e=f-t,n={start:{line:h,column:f-p-t}};f<d;)if(r=c.charCodeAt(f),++f,M(r))return v.comments&&(a=c.slice(e+t,f-1),n.end={line:h,column:f-p-1},N("Line",a,e,f-1,n)),13===r&&10===c.charCodeAt(f)&&++f,++h,void(p=f);v.comments&&(a=c.slice(e+t,f),n.end={line:h,column:f-p},N("Line",a,e,f,n))}function I(){var t,e,n,r;for(v.comments&&(t=f-2,e={start:{line:h,column:f-p-2}});f<d;)if(M(n=c.charCodeAt(f)))13===n&&10===c.charCodeAt(f+1)&&++f,++h,p=++f,f>=d&&z({},o.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===c.charCodeAt(f+1))return++f,++f,void(v.comments&&(r=c.slice(t+2,f-2),e.end={line:h,column:f-p},N("Block",r,t,f,e)));++f}else++f;z({},o.UnexpectedToken,"ILLEGAL")}function L(){var t,e;for(e=0===f;f<d;)if(k(t=c.charCodeAt(f)))++f;else if(M(t))++f,13===t&&10===c.charCodeAt(f)&&++f,++h,p=f,e=!0;else if(47===t)if(47===(t=c.charCodeAt(f+1)))++f,++f,F(2),e=!0;else{if(42!==t)break;++f,++f,I()}else if(e&&45===t){if(45!==c.charCodeAt(f+1)||62!==c.charCodeAt(f+2))break;f+=3,F(3)}else{if(60!==t)break;if("!--"!==c.slice(f+1,f+4))break;++f,++f,++f,++f,F(4)}}function T(t){var e,n,r,a=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(f<d&&x(c[f])))return"";r=c[f++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(a)}function j(){var t,e;for(t=c.charCodeAt(f++),e=String.fromCharCode(t),92===t&&(117!==c.charCodeAt(f)&&z({},o.UnexpectedToken,"ILLEGAL"),++f,(t=T("u"))&&"\\"!==t&&S(t.charCodeAt(0))||z({},o.UnexpectedToken,"ILLEGAL"),e=t);f<d&&C(t=c.charCodeAt(f));)++f,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==c.charCodeAt(f)&&z({},o.UnexpectedToken,"ILLEGAL"),++f,(t=T("u"))&&"\\"!==t&&C(t.charCodeAt(0))||z({},o.UnexpectedToken,"ILLEGAL"),e+=t);return e}function D(){var t,n;return t=f,n=92===c.charCodeAt(f)?j():function(){var t,e;t=f++;for(;f<d;){if(92===(e=c.charCodeAt(f)))return f=t,j();if(!C(e))break;++f}return c.slice(t,f)}(),{type:1===n.length?e.Identifier:function(t){if(l&&A(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}(n)?e.Keyword:"null"===n?e.NullLiteral:"true"===n||"false"===n?e.BooleanLiteral:e.Identifier,value:n,lineNumber:h,lineStart:p,start:t,end:f}}function O(){var t,n,r,a,i=f,u=c.charCodeAt(f),s=c[f];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,v.tokenize&&(40===u?v.openParenToken=v.tokens.length:123===u&&(v.openCurlyToken=v.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(u),lineNumber:h,lineStart:p,start:i,end:f};default:if(61===(t=c.charCodeAt(f+1)))switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:e.Punctuator,value:String.fromCharCode(u)+String.fromCharCode(t),lineNumber:h,lineStart:p,start:i,end:f};case 33:case 61:return f+=2,61===c.charCodeAt(f)&&++f,{type:e.Punctuator,value:c.slice(i,f),lineNumber:h,lineStart:p,start:i,end:f}}}return">>>="===(a=c.substr(f,4))?(f+=4,{type:e.Punctuator,value:a,lineNumber:h,lineStart:p,start:i,end:f}):">>>"===(r=a.substr(0,3))||"<<="===r||">>="===r?(f+=3,{type:e.Punctuator,value:r,lineNumber:h,lineStart:p,start:i,end:f}):(n=r.substr(0,2),s===n[1]&&"+-<>&|".indexOf(s)>=0||"=>"===n?(f+=2,{type:e.Punctuator,value:n,lineNumber:h,lineStart:p,start:i,end:f}):"<>=!+-*%&|^/".indexOf(s)>=0?(++f,{type:e.Punctuator,value:s,lineNumber:h,lineStart:p,start:i,end:f}):void z({},o.UnexpectedToken,"ILLEGAL"))}function U(){var t,n,r;if(b(w((r=c[f]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=f,t="","."!==r){if(t=c[f++],r=c[f],"0"===t){if("x"===r||"X"===r)return++f,function(t){var n="";for(;f<d&&x(c[f]);)n+=c[f++];0===n.length&&z({},o.UnexpectedToken,"ILLEGAL");S(c.charCodeAt(f))&&z({},o.UnexpectedToken,"ILLEGAL");return{type:e.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:p,start:t,end:f}}(n);if(_(r)&&function(){var t,e;for(t=f+1;t<d;++t){if("8"===(e=c[t])||"9"===e)return!1;if(!_(e))return!0}return!0}())return function(t){var n="0"+c[f++];for(;f<d&&_(c[f]);)n+=c[f++];(S(c.charCodeAt(f))||w(c.charCodeAt(f)))&&z({},o.UnexpectedToken,"ILLEGAL");return{type:e.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:p,start:t,end:f}}(n)}for(;w(c.charCodeAt(f));)t+=c[f++];r=c[f]}if("."===r){for(t+=c[f++];w(c.charCodeAt(f));)t+=c[f++];r=c[f]}if("e"===r||"E"===r)if(t+=c[f++],"+"!==(r=c[f])&&"-"!==r||(t+=c[f++]),w(c.charCodeAt(f)))for(;w(c.charCodeAt(f));)t+=c[f++];else z({},o.UnexpectedToken,"ILLEGAL");return S(c.charCodeAt(f))&&z({},o.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(t),lineNumber:h,lineStart:p,start:n,end:f}}function V(){var t,n,r,a;return y=null,L(),t=f,n=function(){var t,e,n,r;b("/"===(t=c[f]),"Regular expression literal must start with a slash"),e=c[f++],n=!1,r=!1;for(;f<d;)if(t=c[f++],e+=t,"\\"===t)M((t=c[f++]).charCodeAt(0))&&z({},o.UnterminatedRegExp),e+=t;else if(M(t.charCodeAt(0)))z({},o.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}r||z({},o.UnterminatedRegExp);return{value:e.substr(1,e.length-2),literal:e}}(),r=function(){var t,e,n,r;e="",n="";for(;f<d&&C((t=c[f]).charCodeAt(0));)if(++f,"\\"===t&&f<d)if("u"===(t=c[f])){if(r=++f,t=T("u"))for(n+=t,e+="\\u";r<f;++r)e+=c[r];else f=r,n+="u",e+="\\u";W({},o.UnexpectedToken,"ILLEGAL")}else e+="\\",W({},o.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}(),a=function(t,e){var n;try{n=new RegExp(t,e)}catch(t){z({},o.InvalidRegExp)}return n}(n.value,r.value),v.tokenize?{type:e.RegularExpression,value:a,lineNumber:h,lineStart:p,start:t,end:f}:{literal:n.literal+r.literal,value:a,start:t,end:f}}function P(){var t,e,n,r;return L(),t=f,e={start:{line:h,column:f-p}},n=V(),e.end={line:h,column:f-p},v.tokenize||(v.tokens.length>0&&(r=v.tokens[v.tokens.length-1]).range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||v.tokens.pop()),v.tokens.push({type:"RegularExpression",value:n.literal,range:[t,f],loc:e})),n}function R(){var t;return L(),f>=d?{type:e.EOF,lineNumber:h,lineStart:p,start:f,end:f}:S(t=c.charCodeAt(f))?D():40===t||41===t||59===t?O():39===t||34===t?function(){var t,n,r,a,i,u,s,l,g="",y=!1;s=h,l=p,b("'"===(t=c[f])||'"'===t,"String literal must starts with a quote"),n=f,++f;for(;f<d;){if((r=c[f++])===t){t="";break}if("\\"===r)if((r=c[f++])&&M(r.charCodeAt(0)))++h,"\r"===r&&"\n"===c[f]&&++f,p=f;else switch(r){case"u":case"x":u=f,(i=T(r))?g+=i:(f=u,g+=r);break;case"n":g+="\n";break;case"r":g+="\r";break;case"t":g+="\t";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;default:_(r)?(0!==(a="01234567".indexOf(r))&&(y=!0),f<d&&_(c[f])&&(y=!0,a=8*a+"01234567".indexOf(c[f++]),"0123".indexOf(r)>=0&&f<d&&_(c[f])&&(a=8*a+"01234567".indexOf(c[f++]))),g+=String.fromCharCode(a)):g+=r}else{if(M(r.charCodeAt(0)))break;g+=r}}""!==t&&z({},o.UnexpectedToken,"ILLEGAL");return{type:e.StringLiteral,value:g,octal:y,startLineNumber:s,startLineStart:l,lineNumber:h,lineStart:p,start:n,end:f}}():46===t?w(c.charCodeAt(f+1))?U():O():w(t)?U():v.tokenize&&47===t?function(){var t,e;if(!(t=v.tokens[v.tokens.length-1]))return P();if("Punctuator"===t.type){if("]"===t.value)return O();if(")"===t.value)return!(e=v.tokens[v.openParenToken-1])||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?O():P();if("}"===t.value){if(v.tokens[v.openCurlyToken-3]&&"Keyword"===v.tokens[v.openCurlyToken-3].type){if(!(e=v.tokens[v.openCurlyToken-4]))return O()}else{if(!v.tokens[v.openCurlyToken-4]||"Keyword"!==v.tokens[v.openCurlyToken-4].type)return O();if(!(e=v.tokens[v.openCurlyToken-5]))return P()}return r.indexOf(e.value)>=0?O():P()}return P()}if("Keyword"===t.type&&"this"!==t.value)return P();return O()}():O()}function q(){var t,r,a;return L(),t={start:{line:h,column:f-p}},r=R(),t.end={line:h,column:f-p},r.type!==e.EOF&&(a=c.slice(r.start,r.end),v.tokens.push({type:n[r.type],value:a,range:[r.start,r.end],loc:t})),r}function H(){var t;return f=(t=y).end,h=t.lineNumber,p=t.lineStart,y=void 0!==v.tokens?q():R(),f=t.end,h=t.lineNumber,p=t.lineStart,t}function B(){var t,e,n;t=f,e=h,n=p,y=void 0!==v.tokens?q():R(),f=t,h=e,p=n}function G(t,e){this.line=t,this.column=e}function Y(){var t,e,n,r;return t=f,e=h,n=p,L(),r=h!==e,f=t,h=e,p=n,r}function z(t,e){var n,r=Array.prototype.slice.call(arguments,2),a=e.replace(/%(\d)/g,function(t,e){return b(e<r.length,"Message reference must be in range"),r[e]});throw"number"==typeof t.lineNumber?((n=new Error("Line "+t.lineNumber+": "+a)).index=t.start,n.lineNumber=t.lineNumber,n.column=t.start-p+1):((n=new Error("Line "+h+": "+a)).index=f,n.lineNumber=h,n.column=f-p+1),n.description=a,n}function W(){try{z.apply(null,arguments)}catch(t){if(!v.errors)throw t;v.errors.push(t)}}function X(t){if(t.type===e.EOF&&z(t,o.UnexpectedEOS),t.type===e.NumericLiteral&&z(t,o.UnexpectedNumber),t.type===e.StringLiteral&&z(t,o.UnexpectedString),t.type===e.Identifier&&z(t,o.UnexpectedIdentifier),t.type===e.Keyword){if(function(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(t.value))z(t,o.UnexpectedReserved);else if(l&&A(t.value))return void W(t,o.StrictReservedWord);z(t,o.UnexpectedToken,t.value)}z(t,o.UnexpectedToken,t.value)}function $(t){var n=H();n.type===e.Punctuator&&n.value===t||X(n)}function K(t){var n=H();n.type===e.Keyword&&n.value===t||X(n)}function Z(t){return y.type===e.Punctuator&&y.value===t}function Q(t){return y.type===e.Keyword&&y.value===t}function J(){var t,n=f,r=h,a=p,i=y;if(59===c.charCodeAt(f)||Z(";"))H();else{if(t=h,L(),h!==t)return f=n,h=r,p=a,void(y=i);y.type===e.EOF||Z("}")||X(y)}}function tt(t){return t.type===a.Identifier||t.type===a.MemberExpression}function et(t,e){var n,r,a;return n=l,a=y,r=Mt(),e&&l&&E(t[0].name)&&W(e,o.StrictParamName),l=n,g.markEnd(g.createFunctionExpression(null,t,[],r),a)}function nt(){var t,n;return n=y,(t=H()).type===e.StringLiteral||t.type===e.NumericLiteral?(l&&t.octal&&W(t,o.StrictOctalLiteral),g.markEnd(g.createLiteral(t),n)):g.markEnd(g.createIdentifier(t.value),n)}function rt(){var t,n,r,a,i,u;return u=y,(t=y).type===e.Identifier?(r=nt(),"get"!==t.value||Z(":")?"set"!==t.value||Z(":")?($(":"),a=dt(),g.markEnd(g.createProperty("init",r,a),u)):(n=nt(),$("("),(t=y).type!==e.Identifier?($(")"),W(t,o.UnexpectedToken,t.value),a=et([])):(i=[mt()],$(")"),a=et(i,t)),g.markEnd(g.createProperty("set",n,a),u)):(n=nt(),$("("),$(")"),a=et([]),g.markEnd(g.createProperty("get",n,a),u))):t.type!==e.EOF&&t.type!==e.Punctuator?(n=nt(),$(":"),a=dt(),g.markEnd(g.createProperty("init",n,a),u)):void X(t)}function at(){var t,n,r,u;if(Z("("))return function(){var t;return $("("),t=gt(),$(")"),t}();if(Z("["))return function(){var t,e=[];t=y,$("[");for(;!Z("]");)Z(",")?(H(),e.push(null)):(e.push(dt()),Z("]")||$(","));return H(),g.markEnd(g.createArrayExpression(e),t)}();if(Z("{"))return function(){var t,e,n,r,u,s=[],c={},f=String;u=y,$("{");for(;!Z("}");)t=rt(),e=t.key.type===a.Identifier?t.key.name:f(t.key.value),r="init"===t.kind?i.Data:"get"===t.kind?i.Get:i.Set,n="$"+e,Object.prototype.hasOwnProperty.call(c,n)?(c[n]===i.Data?l&&r===i.Data?W({},o.StrictDuplicateProperty):r!==i.Data&&W({},o.AccessorDataProperty):r===i.Data?W({},o.AccessorDataProperty):c[n]&r&&W({},o.AccessorGetSet),c[n]|=r):c[n]=r,s.push(t),Z("}")||$(",");return $("}"),g.markEnd(g.createObjectExpression(s),u)}();if(t=y.type,u=y,t===e.Identifier)r=g.createIdentifier(H().value);else if(t===e.StringLiteral||t===e.NumericLiteral)l&&y.octal&&W(y,o.StrictOctalLiteral),r=g.createLiteral(H());else if(t===e.Keyword){if(Q("function"))return function(){var t,e,n,r,a,i,u,s,c=null,f=[];s=y,K("function"),Z("(")||(t=y,c=mt(),l?E(t.value)&&W(t,o.StrictFunctionName):E(t.value)?(n=t,r=o.StrictFunctionName):A(t.value)&&(n=t,r=o.StrictReservedWord));a=St(n),f=a.params,e=a.stricted,n=a.firstRestricted,a.message&&(r=a.message);u=l,i=Mt(),l&&n&&z(n,r);l&&e&&W(e,r);return l=u,g.markEnd(g.createFunctionExpression(c,f,[],i),s)}();Q("this")?(H(),r=g.createThisExpression()):X(H())}else t===e.BooleanLiteral?((n=H()).value="true"===n.value,r=g.createLiteral(n)):t===e.NullLiteral?((n=H()).value=null,r=g.createLiteral(n)):Z("/")||Z("/=")?(r=void 0!==v.tokens?g.createLiteral(P()):g.createLiteral(V()),B()):X(H());return g.markEnd(r,u)}function it(){var t=[];if($("("),!Z(")"))for(;f<d&&(t.push(dt()),!Z(")"));)$(",");return $(")"),t}function ot(){var t,n;return n=y,function(t){return t.type===e.Identifier||t.type===e.Keyword||t.type===e.BooleanLiteral||t.type===e.NullLiteral}(t=H())||X(t),g.markEnd(g.createIdentifier(t.value),n)}function ut(){return $("."),ot()}function st(){var t;return $("["),t=gt(),$("]"),t}function ct(){var t,e,n;return n=y,K("new"),t=function(){var t,e,n;b(m.allowIn,"callee of new expression always allow in keyword."),n=y,t=Q("new")?ct():at();for(;Z(".")||Z("[");)Z("[")?(e=st(),t=g.createMemberExpression("[",t,e)):(e=ut(),t=g.createMemberExpression(".",t,e)),g.markEnd(t,n);return t}(),e=Z("(")?it():[],g.markEnd(g.createNewExpression(t,e),n)}function lt(){var t,n,r=y;return t=function(){var t,e,n,r,a=m.allowIn;for(r=y,m.allowIn=!0,t=Q("new")?ct():at();;){if(Z("."))n=ut(),t=g.createMemberExpression(".",t,n);else if(Z("("))e=it(),t=g.createCallExpression(t,e);else{if(!Z("["))break;n=st(),t=g.createMemberExpression("[",t,n)}g.markEnd(t,r)}return m.allowIn=a,t}(),y.type===e.Punctuator&&(!Z("++")&&!Z("--")||Y()||(l&&t.type===a.Identifier&&E(t.name)&&W({},o.StrictLHSPostfix),tt(t)||W({},o.InvalidLHSInAssignment),n=H(),t=g.markEnd(g.createPostfixExpression(n.value,t),r))),t}function ft(){var t,n,r;return y.type!==e.Punctuator&&y.type!==e.Keyword?n=lt():Z("++")||Z("--")?(r=y,t=H(),n=ft(),l&&n.type===a.Identifier&&E(n.name)&&W({},o.StrictLHSPrefix),tt(n)||W({},o.InvalidLHSInAssignment),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):Z("+")||Z("-")||Z("~")||Z("!")?(r=y,t=H(),n=ft(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):Q("delete")||Q("void")||Q("typeof")?(r=y,t=H(),n=ft(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r),l&&"delete"===n.operator&&n.argument.type===a.Identifier&&W({},o.StrictDelete)):n=lt(),n}function ht(t,n){var r=0;if(t.type!==e.Punctuator&&t.type!==e.Keyword)return 0;switch(t.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function pt(){var t,e,n,r,a;return a=y,t=function(){var t,e,n,r,a,i,o,u,s,c;if(t=y,s=ft(),0===(a=ht(r=y,m.allowIn)))return s;r.prec=a,H(),e=[t,y],o=ft(),i=[s,r,o];for(;(a=ht(y,m.allowIn))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),u=i.pop().value,s=i.pop(),n=g.createBinaryExpression(u,s,o),e.pop(),t=e[e.length-1],g.markEnd(n,t),i.push(n);(r=H()).prec=a,i.push(r),e.push(y),n=ft(),i.push(n)}c=i.length-1,n=i[c],e.pop();for(;c>1;)n=g.createBinaryExpression(i[c-1].value,i[c-2],n),c-=2,t=e.pop(),g.markEnd(n,t);return n}(),Z("?")&&(H(),e=m.allowIn,m.allowIn=!0,n=dt(),m.allowIn=e,$(":"),r=dt(),t=g.createConditionalExpression(t,n,r),g.markEnd(t,a)),t}function dt(){var t,n,r,i,u;return t=y,u=y,i=n=pt(),function(){var t;if(y.type!==e.Punctuator)return!1;return"="===(t=y.value)||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t}()&&(tt(n)||W({},o.InvalidLHSInAssignment),l&&n.type===a.Identifier&&E(n.name)&&W(t,o.StrictLHSAssignment),t=H(),r=dt(),i=g.markEnd(g.createAssignmentExpression(t.value,n,r),u)),i}function gt(){var t,e=y;if(t=dt(),Z(",")){for(t=g.createSequenceExpression([t]);f<d&&Z(",");)H(),t.expressions.push(dt());g.markEnd(t,e)}return t}function yt(){var t,e;return e=y,$("{"),t=function(){var t,e=[];for(;f<d&&!Z("}")&&void 0!==(t=At());)e.push(t);return e}(),$("}"),g.markEnd(g.createBlockStatement(t),e)}function mt(){var t,n;return n=y,(t=H()).type!==e.Identifier&&X(t),g.markEnd(g.createIdentifier(t.value),n)}function vt(t){var e,n,r=null;return n=y,e=mt(),l&&E(e.name)&&W({},o.StrictVarName),"const"===t?($("="),r=dt()):Z("=")&&(H(),r=dt()),g.markEnd(g.createVariableDeclarator(e,r),n)}function bt(t){var e=[];do{if(e.push(vt(t)),!Z(","))break;H()}while(f<d);return e}function wt(){var t,e,n,r,a,i,u,s=m.allowIn;return t=e=n=null,K("for"),$("("),Z(";")?H():(Q("var")||Q("let")?(m.allowIn=!1,t=function(){var t,e,n;return n=y,t=H(),e=bt(),g.markEnd(g.createVariableDeclaration(e,t.value),n)}(),m.allowIn=s,1===t.declarations.length&&Q("in")&&(H(),r=t,a=gt(),t=null)):(m.allowIn=!1,t=gt(),m.allowIn=s,Q("in")&&(tt(t)||W({},o.InvalidLHSInForIn),H(),r=t,a=gt(),t=null)),void 0===r&&$(";")),void 0===r&&(Z(";")||(e=gt()),$(";"),Z(")")||(n=gt())),$(")"),u=m.inIteration,m.inIteration=!0,i=kt(),m.inIteration=u,void 0===r?g.createForStatement(t,e,n,i):g.createForInStatement(r,a,i)}function xt(){var t,e,n,r=[];for(n=y,Q("default")?(H(),t=null):(K("case"),t=gt()),$(":");f<d&&!(Z("}")||Q("default")||Q("case"));)e=kt(),r.push(e);return g.markEnd(g.createSwitchCase(t,r),n)}function _t(){var t,e=[],n=null;return K("try"),t=yt(),Q("catch")&&e.push(function(){var t,e,n;n=y,K("catch"),$("("),Z(")")&&X(y);t=mt(),l&&E(t.name)&&W({},o.StrictCatchVariable);return $(")"),e=yt(),g.markEnd(g.createCatchClause(t,e),n)}()),Q("finally")&&(H(),n=yt()),0!==e.length||n||z({},o.NoCatchOrFinally),g.createTryStatement(t,[],e,n)}function kt(){var t,n,r,i,u=y.type;if(u===e.EOF&&X(y),u===e.Punctuator&&"{"===y.value)return yt();if(i=y,u===e.Punctuator)switch(y.value){case";":return g.markEnd(($(";"),g.createEmptyStatement()),i);case"(":return g.markEnd(function(){var t=gt();return J(),g.createExpressionStatement(t)}(),i)}if(u===e.Keyword)switch(y.value){case"break":return g.markEnd(function(){var t,n=null;if(K("break"),59===c.charCodeAt(f))return H(),m.inIteration||m.inSwitch||z({},o.IllegalBreak),g.createBreakStatement(null);if(Y())return m.inIteration||m.inSwitch||z({},o.IllegalBreak),g.createBreakStatement(null);y.type===e.Identifier&&(n=mt(),t="$"+n.name,Object.prototype.hasOwnProperty.call(m.labelSet,t)||z({},o.UnknownLabel,n.name));J(),null!==n||m.inIteration||m.inSwitch||z({},o.IllegalBreak);return g.createBreakStatement(n)}(),i);case"continue":return g.markEnd(function(){var t,n=null;if(K("continue"),59===c.charCodeAt(f))return H(),m.inIteration||z({},o.IllegalContinue),g.createContinueStatement(null);if(Y())return m.inIteration||z({},o.IllegalContinue),g.createContinueStatement(null);y.type===e.Identifier&&(n=mt(),t="$"+n.name,Object.prototype.hasOwnProperty.call(m.labelSet,t)||z({},o.UnknownLabel,n.name));J(),null!==n||m.inIteration||z({},o.IllegalContinue);return g.createContinueStatement(n)}(),i);case"debugger":return g.markEnd((K("debugger"),J(),g.createDebuggerStatement()),i);case"do":return g.markEnd(function(){var t,e,n;K("do"),n=m.inIteration,m.inIteration=!0,t=kt(),m.inIteration=n,K("while"),$("("),e=gt(),$(")"),Z(";")&&H();return g.createDoWhileStatement(t,e)}(),i);case"for":return g.markEnd(wt(),i);case"function":return g.markEnd(Ct(),i);case"if":return g.markEnd(function(){var t,e,n;K("if"),$("("),t=gt(),$(")"),e=kt(),Q("else")?(H(),n=kt()):n=null;return g.createIfStatement(t,e,n)}(),i);case"return":return g.markEnd(function(){var t=null;K("return"),m.inFunctionBody||W({},o.IllegalReturn);if(32===c.charCodeAt(f)&&S(c.charCodeAt(f+1)))return t=gt(),J(),g.createReturnStatement(t);if(Y())return g.createReturnStatement(null);Z(";")||Z("}")||y.type===e.EOF||(t=gt());return J(),g.createReturnStatement(t)}(),i);case"switch":return g.markEnd(function(){var t,e,n,r,a;if(K("switch"),$("("),t=gt(),$(")"),$("{"),e=[],Z("}"))return H(),g.createSwitchStatement(t,e);r=m.inSwitch,m.inSwitch=!0,a=!1;for(;f<d&&!Z("}");)null===(n=xt()).test&&(a&&z({},o.MultipleDefaultsInSwitch),a=!0),e.push(n);return m.inSwitch=r,$("}"),g.createSwitchStatement(t,e)}(),i);case"throw":return g.markEnd(function(){var t;K("throw"),Y()&&z({},o.NewlineAfterThrow);return t=gt(),J(),g.createThrowStatement(t)}(),i);case"try":return g.markEnd(_t(),i);case"var":return g.markEnd(function(){var t;return K("var"),t=bt(),J(),g.createVariableDeclaration(t,"var")}(),i);case"while":return g.markEnd(function(){var t,e,n;return K("while"),$("("),t=gt(),$(")"),n=m.inIteration,m.inIteration=!0,e=kt(),m.inIteration=n,g.createWhileStatement(t,e)}(),i);case"with":return g.markEnd(function(){var t,e;l&&(L(),W({},o.StrictModeWith));return K("with"),$("("),t=gt(),$(")"),e=kt(),g.createWithStatement(t,e)}(),i)}return(t=gt()).type===a.Identifier&&Z(":")?(H(),r="$"+t.name,Object.prototype.hasOwnProperty.call(m.labelSet,r)&&z({},o.Redeclaration,"Label",t.name),m.labelSet[r]=!0,n=kt(),delete m.labelSet[r],g.markEnd(g.createLabeledStatement(t,n),i)):(J(),g.markEnd(g.createExpressionStatement(t),i))}function Mt(){var t,n,r,i,u,s,h,p,v=[];for(p=y,$("{");f<d&&y.type===e.StringLiteral&&(n=y,t=At(),v.push(t),t.expression.type===a.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&W(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(i=m.labelSet,u=m.inIteration,s=m.inSwitch,h=m.inFunctionBody,m.labelSet={},m.inIteration=!1,m.inSwitch=!1,m.inFunctionBody=!0;f<d&&!Z("}")&&void 0!==(t=At());)v.push(t);return $("}"),m.labelSet=i,m.inIteration=u,m.inSwitch=s,m.inFunctionBody=h,g.markEnd(g.createBlockStatement(v),p)}function St(t){var e,n,r,a,i,u,s=[];if($("("),!Z(")"))for(a={};f<d&&(n=y,e=mt(),i="$"+n.value,l?(E(n.value)&&(r=n,u=o.StrictParamName),Object.prototype.hasOwnProperty.call(a,i)&&(r=n,u=o.StrictParamDupe)):t||(E(n.value)?(t=n,u=o.StrictParamName):A(n.value)?(t=n,u=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,i)&&(t=n,u=o.StrictParamDupe)),s.push(e),a[i]=!0,!Z(")"));)$(",");return $(")"),{params:s,stricted:r,firstRestricted:t,message:u}}function Ct(){var t,e,n,r,a,i,u,s,c,f=[];return c=y,K("function"),n=y,t=mt(),l?E(n.value)&&W(n,o.StrictFunctionName):E(n.value)?(i=n,u=o.StrictFunctionName):A(n.value)&&(i=n,u=o.StrictReservedWord),a=St(i),f=a.params,r=a.stricted,i=a.firstRestricted,a.message&&(u=a.message),s=l,e=Mt(),l&&i&&z(i,u),l&&r&&W(r,u),l=s,g.markEnd(g.createFunctionDeclaration(t,f,[],e),c)}function At(){if(y.type===e.Keyword)switch(y.value){case"const":case"let":return function(t){var e,n;return n=y,K(t),e=bt(t),J(),g.markEnd(g.createVariableDeclaration(e,t),n)}(y.value);case"function":return Ct();default:return kt()}if(y.type!==e.EOF)return kt()}function Et(){var t,n;return L(),B(),n=y,l=!1,t=function(){var t,n,r,i=[];for(;f<d&&(n=y).type===e.StringLiteral&&(t=At(),i.push(t),t.expression.type===a.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&W(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;f<d&&void 0!==(t=At());)i.push(t);return i}(),g.markEnd(g.createProgram(t),n)}function Nt(){var t,e,n,r=[];for(t=0;t<v.tokens.length;++t)e=v.tokens[t],n={type:e.type,value:e.value},v.range&&(n.range=e.range),v.loc&&(n.loc=e.loc),r.push(n);v.tokens=r}(n={})[(e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[e.EOF]="<end>",n[e.Identifier]="Identifier",n[e.Keyword]="Keyword",n[e.NullLiteral]="Null",n[e.NumericLiteral]="Numeric",n[e.Punctuator]="Punctuator",n[e.StringLiteral]="String",n[e.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},i={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},s={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===a.Program&&t.body.length>0)){for(v.trailingComments.length>0?v.trailingComments[0].range[0]>=t.range[1]?(n=v.trailingComments,v.trailingComments=[]):v.trailingComments.length=0:v.bottomRightStack.length>0&&v.bottomRightStack[v.bottomRightStack.length-1].trailingComments&&v.bottomRightStack[v.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=v.bottomRightStack[v.bottomRightStack.length-1].trailingComments,delete v.bottomRightStack[v.bottomRightStack.length-1].trailingComments);v.bottomRightStack.length>0&&v.bottomRightStack[v.bottomRightStack.length-1].range[0]>=t.range[0];)e=v.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):v.leadingComments.length>0&&v.leadingComments[v.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=v.leadingComments,v.leadingComments=[]),n&&(t.trailingComments=n),v.bottomRightStack.push(t)}},markEnd:function(t,e){return v.range&&(t.range=[e.start,f]),v.loc&&(t.loc=new function(t,e,n,r){this.start=new G(t,e),this.end=new G(n,r)}(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart),h,f-p),this.postProcess(t)),v.attachComment&&this.processComment(t),t},postProcess:function(t){return v.source&&(t.loc.source=v.source),t},createArrayExpression:function(t){return{type:a.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:a.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){var r="||"===t||"&&"===t?a.LogicalExpression:a.BinaryExpression;return{type:r,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:a.BlockStatement,body:t}},createBreakStatement:function(t){return{type:a.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:a.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:a.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:a.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:a.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:a.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(t){return{type:a.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:a.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:a.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:a.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:a.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:a.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:a.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:a.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:a.Literal,value:t.value,raw:c.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:a.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:a.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:a.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:a.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:a.Program,body:t}},createProperty:function(t,e,n){return{type:a.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:a.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:a.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:a.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:a.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(t){return{type:a.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:a.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:a.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:a.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:a.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:a.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:a.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:a.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=function(t,n){var r,a;r=String,"string"==typeof t||t instanceof String||(t=r(t));g=s,f=0,h=(c=t).length>0?1:0,p=0,d=c.length,y=null,m={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},v={},(n=n||{}).tokens=!0,v.tokens=[],v.tokenize=!0,v.openParenToken=-1,v.openCurlyToken=-1,v.range="boolean"==typeof n.range&&n.range,v.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(v.comments=[]);"boolean"==typeof n.tolerant&&n.tolerant&&(v.errors=[]);try{if(B(),y.type===e.EOF)return v.tokens;for(H();y.type!==e.EOF;)try{H()}catch(t){if(y,v.errors){v.errors.push(t);break}throw t}Nt(),a=v.tokens,void 0!==v.comments&&(a.comments=v.comments),void 0!==v.errors&&(a.errors=v.errors)}catch(t){throw t}finally{v={}}return a},t.parse=function(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t));g=s,f=0,h=(c=t).length>0?1:0,p=0,d=c.length,y=null,m={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},v={},void 0!==e&&(v.range="boolean"==typeof e.range&&e.range,v.loc="boolean"==typeof e.loc&&e.loc,v.attachComment="boolean"==typeof e.attachComment&&e.attachComment,v.loc&&null!==e.source&&void 0!==e.source&&(v.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(v.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(v.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(v.errors=[]),v.attachComment&&(v.range=!0,v.comments=[],v.bottomRightStack=[],v.trailingComments=[],v.leadingComments=[]));try{n=Et(),void 0!==v.comments&&(n.comments=v.comments),void 0!==v.tokens&&(Nt(),n.tokens=v.tokens),void 0!==v.errors&&(n.errors=v.errors)}catch(t){throw t}finally{v={}}return n},t.Syntax=function(){var t,e={};for(t in"function"==typeof Object.create&&(e=Object.create(null)),a)a.hasOwnProperty(t)&&(e[t]=a[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()})?r.apply(e,a):r)||(t.exports=i)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=new Float64Array(t*e),i=0;i<n.length;i++)n[i]=1e-4*a();return(0,r.default)(n,[t,e])};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));function a(){var t=2*Math.random()-1,e=2*Math.random()-1,n=t*t+e*e;return 0==n||n>1?a():t*Math.sqrt(-2*Math.log(n)/n)}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=t.shape[0],i=(0,r.default)(new Float64Array(n*n),[n,n]),c=(0,r.default)(new Float64Array(n*n),[n,n]),l=void 0,f=void 0,h=1/0,p=Math.log(e),d=void 0,g=void 0,y=void 0,m=0;m<n;m++){l=1,f=-1/0,h=1/0;for(var v=0;v<100;v++){for(var b=0;b<n;b++)i.set(m,b,Math.exp(-t.get(m,b)*l));i.set(m,m,0),g=0;for(b=0;b<n;b++)g+=i.get(m,b);0==g&&(g=o),y=0;for(b=0;b<n;b++)i.set(m,b,i.get(m,b)/g),y+=t.get(m,b)*i.get(m,b);if(d=Math.log(g)+l*y-p,Math.abs(d)<=s)break;d>0?(f=l,h==1/0?l*=2:l=(l+h)/2):(h=l,f==-1/0?l/=2:l=(l+f)/2)}l}a.default.add(c,i,i.transpose(1,0));var w=Math.max(a.default.sum(c),u);return a.default.divseq(c,w),a.default.maxseq(c,u),c};var r=i(n(1)),a=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}var o=1e-7,u=Number.EPSILON||2.220446049250313e-16,s=1e-5;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=t.shape[0],u=t.shape[1],l=(0,r.default)(new Float64Array(i*i),[i,i]),f=(0,o.default)(t,"euclidean");c(f);var h=(n+1)/-2;a.default.powseq(a.default.divseq(a.default.addseq(f,1),n),h);for(var p=0;p<i;p++)f.set(p,p,0);var d=Math.max(a.default.sum(f),s);a.default.divs(l,f,d),a.default.maxseq(l,s);var g=(0,r.default)(new Float64Array(i*i),[i,i]),y=(0,r.default)(new Float64Array(i*i),[i,i]);a.default.div(g,e,l),a.default.logeq(g),a.default.assign(y,e);var m=a.default.sum(a.default.muleq(g,y)),v=(0,r.default)(new Float64Array(t.size),t.shape),b=(0,r.default)(new Float64Array(i*i),[i,i]);a.default.sub(b,e,l),a.default.muleq(b,f);for(p=0;p<i;p++)for(var w=0;w<u;w++){var x=(0,r.default)(new Float64Array(t.shape[0]),[t.shape[0]]);a.default.assign(x,t.pick(null,w)),a.default.addseq(a.default.negeq(x),t.get(p,w)),a.default.muleq(x,b.pick(p,null)),v.set(p,w,a.default.sum(x))}var _=2*(n+1)/n;return a.default.mulseq(v,_),[m,v]};var r=u(n(1)),a=u(n(3)),i=u(n(2)),o=u(n(6));function u(t){return t&&t.__esModule?t:{default:t}}var s=Number.EPSILON||2.220446049250313e-16,c=(0,i.default)({args:["array"],body:function(t){t*=t}});t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFile=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.classnames=function(t){return Object.keys(t).filter(function(e){return t[e]}).join(" ")},e.colorSentences=function(t){return t.map(function(t){var e=Object.keys(t).filter(function(e){return t[e]&&"index"!==e}).map(function(t){return i.COLORS[t.toLowerCase()]});return r({},t,{colors:e})})},e.prepBarChart=function(t,e,n){var r=t.filter(function(t){return n?t.colors.some(function(t){return e[t]}):t.colors.every(function(t){return e[t]})}).reduce(function(t,e){return Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]}),t},{});delete r.index,delete r.colors;var o=i.COLORS_FOR_LEGEND.reduce(function(t,e){return t[e.color]=e.tag,t},{});return Object.entries(r).map(function(t){var e=a(t,2),n=e[0],r=e[1];return{cat:n,tag:o[i.COLORS[n.toLowerCase()]],count:r||0,color:i.COLORS[n.toLowerCase()]}})},e.prepSunburst=function(t){var e=t.reduce(function(t,e){return i.categoryRelationships.forEach(function(n){var r=n.cat;t[r]||(t[r]=0),t[r]+=Number(e[r])&&Number(e[r])||0}),t},{}),n=i.categoryRelationships.reduce(function(t,n){return t[n.superCat]||(t[n.superCat]=[]),t[n.superCat].push(r({},n,{size:e[n.cat]})),t},{});return{children:Object.entries(n).map(function(t){var e=a(t,2),n=e[0],o=e[1];return{label:n,children:o.map(function(t){return r({},t,{children:[],label:t.cat,color:i.COLORS[t.cat.toLowerCase()]})})}})}},e.prepWaffleData=function(t){var e=t.map(function(t){return Object.entries(t).filter(function(t){var e=a(t,2),n=e[0],r=e[1];return Number(r)&&"index"!==n}).map(function(t){var e=a(t,2),n=e[0];e[1];return i.COLORS[n.toLowerCase()]||console.log(n.toLowerCase(),i.COLORS[n.toLowerCase()]),i.COLORS[n.toLowerCase()]})}),n=[],r=[],o=0;for(;o<e.length;){var u=e[o],s=r.reduce(function(t,e){return t+e.length},0);s+u.length>i.TARGET_WIDTH?(n.push(r),r=[u]):r.push(u),o+=1}var c=0;return n.map(function(t){var e=0;return t.map(function(t){var n={colors:t,offset:e,sentenceIdx:c};return c+=1,e+=t.length,n})})},e.computeDomain=function(t){return t.reduce(function(t,e){var n=e.x,r=e.y;return{minX:Math.min(t.minX,n),maxX:Math.max(t.maxX,n),minY:Math.min(t.minY,r),maxY:Math.max(t.maxY,r)}},{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})},e.generateNodes=function(t,e,n){return t.reduce(function(t,e){return t.concat(e)},[]).filter(function(t){var r=function(t){return e[t]};return n?t.colors.some(r):t.colors.every(r)})},e.generateGraphLinks=function(t){var e=Object.entries(t.reduce(function(t,e){return e.colors.forEach(function(n){t[n]=(t[n]||[]).concat(e.sentenceIdx)}),t},{})).reduce(function(t,e){for(var n=a(e,2),r=n[0],i=n[1],o=0;o<i.length;o++)for(var u=o;u<i.length;u++)o!==u&&t.push({source:i[o],target:i[u],color:r});return t},[]).reduce(function(t,e){var n=e.source,r=e.target,a=e.color;return t[n+"-"+r+"-"+a]={source:n,target:r,color:a},t},{});return Object.values(e)};var i=n(7),o=n(28);var u=function(t){var e={};return e[t]?new Promise(function(n,r){return n(e[t])}):(0,o.csv)(t).then(function(n){return e[t]=n,n})};e.getFile=function(t){return Promise.all([u("./data/"+t+"-Numbered-sentences.csv"),u("./data/"+t+"-Reclassified.csv")]).then(function(e){var n=a(e,2),r=n[0],i=n[1];return{filePrefix:t,numberedSents:r.map(function(t){return t.sentence}),sentenceClassifcations:i.map(function(t){return Object.entries(t).reduce(function(t,e){var n=a(e,2),r=n[0],i=n[1];return""===r?(t.index=i,t):(t[r]="1"===i?1:0,t)},{})})}})}},function(t,e,n){"use strict";n.r(e);var r=function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i};function a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function i(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}const o=Symbol("implicit");function u(){var t=new Map,e=[],n=[],r=o;function i(a){var i=a+"",u=t.get(i);if(!u){if(r!==o)return r;t.set(i,u=e.push(a))}return n[(u-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return u(e,n).unknown(r)},a.apply(i,arguments),i}function s(){var t,e,n=u().unknown(void 0),i=n.domain,o=n.range,c=0,l=1,f=!1,h=0,p=0,d=.5;function g(){var n=i().length,a=l<c,u=a?l:c,s=a?c:l;t=(s-u)/Math.max(1,n-h+2*p),f&&(t=Math.floor(t)),u+=(s-u-t*(n-h))*d,e=t*(1-h),f&&(u=Math.round(u),e=Math.round(e));var g=r(n).map(function(e){return u+t*e});return o(a?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),g()):i()},n.range=function(t){return arguments.length?([c,l]=t,c=+c,l=+l,g()):[c,l]},n.rangeRound=function(t){return[c,l]=t,c=+c,l=+l,f=!0,g()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(f=!!t,g()):f},n.padding=function(t){return arguments.length?(h=Math.min(1,p=+t),g()):h},n.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),g()):h},n.paddingOuter=function(t){return arguments.length?(p=+t,g()):p},n.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),g()):d},n.copy=function(){return s(i(),[c,l]).round(f).paddingInner(h).paddingOuter(p).align(d)},a.apply(g(),arguments)}function c(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(s.apply(null,arguments).paddingInner(1))}var l=Math.sqrt(50),f=Math.sqrt(10),h=Math.sqrt(2),p=function(t,e,n){var r,a,i,o,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=d(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++u<a;)i[u]=(t+u)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++u<a;)i[u]=(t-u)/o;return r&&i.reverse(),i};function d(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=l?10:i>=f?5:i>=h?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=l?10:i>=f?5:i>=h?2:1)}function g(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=l?a*=10:i>=f?a*=5:i>=h&&(a*=2),e<t?-a:a}var y=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},m=function(t){return 1===t.length&&(t=function(t){return function(e,n){return y(t(e),n)}}(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}};var v=m(y),b=v.right,w=(v.left,b),x=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function _(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function k(){}var M="\\s*([+-]?\\d+)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A=/^#([0-9a-f]{3})$/,E=/^#([0-9a-f]{6})$/,N=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),F=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),I=new RegExp("^rgba\\("+[M,M,M,S]+"\\)$"),L=new RegExp("^rgba\\("+[C,C,C,S]+"\\)$"),T=new RegExp("^hsl\\("+[S,C,C]+"\\)$"),j=new RegExp("^hsla\\("+[S,C,C,S]+"\\)$"),D={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function O(t){var e;return t=(t+"").trim().toLowerCase(),(e=A.exec(t))?new q((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=E.exec(t))?U(parseInt(e[1],16)):(e=N.exec(t))?new q(e[1],e[2],e[3],1):(e=F.exec(t))?new q(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=I.exec(t))?V(e[1],e[2],e[3],e[4]):(e=L.exec(t))?V(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=T.exec(t))?B(e[1],e[2]/100,e[3]/100,1):(e=j.exec(t))?B(e[1],e[2]/100,e[3]/100,e[4]):D.hasOwnProperty(t)?U(D[t]):"transparent"===t?new q(NaN,NaN,NaN,0):null}function U(t){return new q(t>>16&255,t>>8&255,255&t,1)}function V(t,e,n,r){return r<=0&&(t=e=n=NaN),new q(t,e,n,r)}function P(t){return t instanceof k||(t=O(t)),t?new q((t=t.rgb()).r,t.g,t.b,t.opacity):new q}function R(t,e,n,r){return 1===arguments.length?P(t):new q(t,e,n,null==r?1:r)}function q(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function H(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function B(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Y(t,e,n,r)}function G(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Y)return new Y(t.h,t.s,t.l,t.opacity);if(t instanceof k||(t=O(t)),!t)return new Y;if(t instanceof Y)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,s=(i+a)/2;return u?(o=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new Y(o,u,s,t.opacity)}(t):new Y(t,e,n,null==r?1:r)}function Y(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function z(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}x(k,O,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),x(q,R,_(k,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+H(this.r)+H(this.g)+H(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),x(Y,G,_(k,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Y(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Y(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new q(z(t>=240?t-240:t+120,a,r),z(t,a,r),z(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var W=Math.PI/180,X=180/Math.PI,$=.96422,K=1,Z=.82521,Q=4/29,J=6/29,tt=3*J*J,et=J*J*J;function nt(t){if(t instanceof at)return new at(t.l,t.a,t.b,t.opacity);if(t instanceof ft){if(isNaN(t.h))return new at(t.l,0,0,t.opacity);var e=t.h*W;return new at(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof q||(t=P(t));var n,r,a=st(t.r),i=st(t.g),o=st(t.b),u=it((.2225045*a+.7168786*i+.0606169*o)/K);return a===i&&i===o?n=r=u:(n=it((.4360747*a+.3850649*i+.1430804*o)/$),r=it((.0139322*a+.0971045*i+.7141733*o)/Z)),new at(116*u-16,500*(n-u),200*(u-r),t.opacity)}function rt(t,e,n,r){return 1===arguments.length?nt(t):new at(t,e,n,null==r?1:r)}function at(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function it(t){return t>et?Math.pow(t,1/3):t/tt+Q}function ot(t){return t>J?t*t*t:tt*(t-Q)}function ut(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function st(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ct(t){if(t instanceof ft)return new ft(t.h,t.c,t.l,t.opacity);if(t instanceof at||(t=nt(t)),0===t.a&&0===t.b)return new ft(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*X;return new ft(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lt(t,e,n,r){return 1===arguments.length?ct(t):new ft(t,e,n,null==r?1:r)}function ft(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}x(at,rt,_(k,{brighter:function(t){return new at(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new at(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new q(ut(3.1338561*(e=$*ot(e))-1.6168667*(t=K*ot(t))-.4906146*(n=Z*ot(n))),ut(-.9787684*e+1.9161415*t+.033454*n),ut(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),x(ft,lt,_(k,{brighter:function(t){return new ft(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ft(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return nt(this).rgb()}}));var ht=-.14861,pt=1.78277,dt=-.29227,gt=-.90649,yt=1.97294,mt=yt*gt,vt=yt*pt,bt=pt*dt-gt*ht;function wt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof xt)return new xt(t.h,t.s,t.l,t.opacity);t instanceof q||(t=P(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(bt*r+mt*e-vt*n)/(bt+mt-vt),i=r-a,o=(yt*(n-a)-dt*i)/gt,u=Math.sqrt(o*o+i*i)/(yt*a*(1-a)),s=u?Math.atan2(o,i)*X-120:NaN;return new xt(s<0?s+360:s,u,a,t.opacity)}(t):new xt(t,e,n,null==r?1:r)}function xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _t(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}x(xt,wt,_(k,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*W,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new q(255*(e+n*(ht*r+pt*a)),255*(e+n*(dt*r+gt*a)),255*(e+n*(yt*r)),this.opacity)}}));var kt=function(t){return function(){return t}};function Mt(t,e){return function(n){return t+n*e}}function St(t,e){var n=e-t;return n?Mt(t,n>180||n<-180?n-360*Math.round(n/360):n):kt(isNaN(t)?e:t)}function Ct(t){return 1==(t=+t)?At:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):kt(isNaN(e)?n:e)}}function At(t,e){var n=e-t;return n?Mt(t,n):kt(isNaN(t)?e:t)}var Et=function t(e){var n=Ct(e);function r(t,e){var r=n((t=R(t)).r,(e=R(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=At(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Nt(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=R(e[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=t(i),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=u(t),r+""}}}Nt(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,u=r<e-1?t[r+2]:2*i-a;return _t((n-r/e)*e,o,a,i,u)}}),Nt(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],u=t[(r+2)%e];return _t((n-r/e)*e,a,i,o,u)}});var Ft=function(t,e){return e-=t=+t,function(n){return t+e*n}},It=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lt=new RegExp(It.source,"g");var Tt,jt,Dt,Ot,Ut=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?kt(e):("number"===r?Ft:"string"===r?(n=O(e))?(e=n,Et):function(t,e){var n,r,a,i=It.lastIndex=Lt.lastIndex=0,o=-1,u=[],s=[];for(t+="",e+="";(n=It.exec(t))&&(r=Lt.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:Ft(n,r)})),i=Lt.lastIndex;return i<e.length&&(a=e.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}:e instanceof O?Et:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Ut(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ut(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}:Ft)(t,e)},Vt=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Pt=180/Math.PI,Rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},qt=function(t,e,n,r,a,i){var o,u,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Pt,skewX:Math.atan(s)*Pt,scaleX:o,scaleY:u}};function Ht(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var u=[],s=[];return i=t(i),o=t(o),function(t,r,a,i,o,u){if(t!==a||r!==i){var s=o.push("translate(",null,e,null,n);u.push({i:s-4,x:Ft(t,a)},{i:s-2,x:Ft(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,s),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Ft(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,u,s),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Ft(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,u,s),function(t,e,n,r,i,o){if(t!==n||e!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:Ft(t,n)},{i:u-2,x:Ft(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,s),i=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}Ht(function(t){return"none"===t?Rt:(Tt||(Tt=document.createElement("DIV"),jt=document.documentElement,Dt=document.defaultView),Tt.style.transform=t,t=Dt.getComputedStyle(jt.appendChild(Tt),null).getPropertyValue("transform"),jt.removeChild(Tt),t=t.slice(7,-1).split(","),qt(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ht(function(t){return null==t?Rt:(Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","g")),Ot.setAttribute("transform",t),(t=Ot.transform.baseVal.consolidate())?(t=t.matrix,qt(t.a,t.b,t.c,t.d,t.e,t.f)):Rt)},", ",")",")"),Math.SQRT2;function Bt(t){return function(e,n){var r=t((e=G(e)).h,(n=G(n)).h),a=At(e.s,n.s),i=At(e.l,n.l),o=At(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=i(t),e.opacity=o(t),e+""}}}Bt(St),Bt(At);function Gt(t){return function(e,n){var r=t((e=lt(e)).h,(n=lt(n)).h),a=At(e.c,n.c),i=At(e.l,n.l),o=At(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=i(t),e.opacity=o(t),e+""}}}Gt(St),Gt(At);function Yt(t){return function e(n){function r(e,r){var a=t((e=wt(e)).h,(r=wt(r)).h),i=At(e.s,r.s),o=At(e.l,r.l),u=At(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=i(t),e.l=o(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}Yt(St),Yt(At);var zt=function(t){return function(){return t}},Wt=function(t){return+t},Xt=[0,1];function $t(t){return t}function Kt(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zt(isNaN(e)?NaN:.5)}function Zt(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Kt(a,r),i=n(o,i)):(r=Kt(r,a),i=n(i,o)),function(t){return i(r(t))}}function Qt(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=Kt(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=w(t,e,1,r)-1;return i[n](a[n](e))}}function Jt(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function te(){var t,e,n,r,a,i,o=Xt,u=Xt,s=Ut,c=$t;function l(){var t=Math.min(o.length,u.length);return c!==$t&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?Qt:Zt,a=i=null,f}function f(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),u,s)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(u,o.map(t),Ft)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,Wt),l()):o.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Vt,l()},f.clamp=function(t){return arguments.length?(c=!!t||$t,l()):c!==$t},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function ee(){return te()($t,$t)}var ne=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},re=function(t){return(t=ne(Math.abs(t)))?t[1]:NaN},ae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ie(t){return new oe(t)}function oe(t){if(!(e=ae.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}ie.prototype=oe.prototype,oe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ue,se,ce,le,fe=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(a>0){if(!+t[r])break t;a=0}}return a>0?t.slice(0,a)+t.slice(e+1):t},he=function(t,e){var n=ne(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},pe={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return he(100*t,e)},r:he,s:function(t,e){var n=ne(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(ue=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ne(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},de=function(t){return t},ge=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ye=function(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],s=0;a>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(n.substring(a-=u,a+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}(t.grouping,t.thousands):de,n=t.currency,r=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):de,i=t.percent||"%";function o(t){var o=(t=ie(t)).fill,u=t.align,s=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,p=t.precision,d=t.trim,g=t.type;"n"===g?(h=!0,g="g"):pe[g]||(null==p&&(p=12),d=!0,g="g"),(l||"0"===o&&"="===u)&&(l=!0,o="0",u="=");var y="$"===c?n[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===c?n[1]:/[%p]/.test(g)?i:"",v=pe[g],b=/[defgprs%]/.test(g);function w(t){var n,i,c,w=y,x=m;if("c"===g)x=v(t)+x,t="";else{var _=(t=+t)<0;if(t=v(Math.abs(t),p),d&&(t=fe(t)),_&&0==+t&&(_=!1),w=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+w,x=("s"===g?ge[8+ue/3]:"")+x+(_&&"("===s?")":""),b)for(n=-1,i=t.length;++n<i;)if(48>(c=t.charCodeAt(n))||c>57){x=(46===c?r+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}h&&!l&&(t=e(t,1/0));var k=w.length+t.length+x.length,M=k<f?new Array(f-k+1).join(o):"";switch(h&&l&&(t=e(M+t,M.length?f-x.length:1/0),M=""),u){case"<":t=w+t+x+M;break;case"=":t=w+M+t+x;break;case"^":t=M.slice(0,k=M.length>>1)+w+t+x+M.slice(k);break;default:t=M+w+t+x}return a(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),w.toString=function(){return t+""},w}return{format:o,formatPrefix:function(t,e){var n=o(((t=ie(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(re(e)/3))),a=Math.pow(10,-r),i=ge[8+r/3];return function(t){return n(a*t)+i}}}};!function(t){se=ye(t),ce=se.format,le=se.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var me=function(t,e,n,r){var a,i=g(t,e,n);switch((r=ie(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(re(e)/3)))-re(Math.abs(t)))}(i,o))||(r.precision=a),le(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,re(e)-re(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(t){return Math.max(0,-re(Math.abs(t)))}(i))||(r.precision=a-2*("%"===r.type))}return ce(r)};function ve(t){var e=t.domain;return t.ticks=function(t){var n=e();return p(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return me(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,o=a.length-1,u=a[i],s=a[o];return s<u&&(r=u,u=s,s=r,r=i,i=o,o=r),(r=d(u,s,n))>0?r=d(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=d(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(a[i]=Math.floor(u/r)*r,a[o]=Math.ceil(s/r)*r,e(a)):r<0&&(a[i]=Math.ceil(u*r)/r,a[o]=Math.floor(s*r)/r,e(a)),t},t}function be(){var t=ee();return t.copy=function(){return Jt(t,be())},a.apply(t,arguments),ve(t)}function we(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Wt),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return we(t).unknown(e)},t=arguments.length?Array.from(t,Wt):[0,1],ve(n)}var xe=function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t};function _e(t){return Math.log(t)}function ke(t){return Math.exp(t)}function Me(t){return-Math.log(-t)}function Se(t){return-Math.exp(-t)}function Ce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ae(t){return function(e){return-t(-e)}}function Ee(t){var e,n,r=t(_e,ke),a=r.domain,i=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(i),n=function(t){return 10===t?Ce:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(i),a()[0]<0?(e=Ae(e),n=Ae(n),t(Me,Se)):t(_e,ke),r}return r.base=function(t){return arguments.length?(i=+t,o()):i},r.domain=function(t){return arguments.length?(a(t),o()):a()},r.ticks=function(t){var r,o=a(),u=o[0],s=o[o.length-1];(r=s<u)&&(h=u,u=s,s=h);var c,l,f,h=e(u),d=e(s),g=null==t?10:+t,y=[];if(!(i%1)&&d-h<g){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(l=1,c=n(h);l<i;++l)if(!((f=c*l)<u)){if(f>s)break;y.push(f)}}else for(;h<=d;++h)for(l=i-1,c=n(h);l>=1;--l)if(!((f=c*l)<u)){if(f>s)break;y.push(f)}y.length||(y=p(u,s,g))}else y=p(h,d,Math.min(d-h,g)).map(n);return r?y.reverse():y},r.tickFormat=function(t,a){if(null==a&&(a=10===i?".0e":","),"function"!=typeof a&&(a=ce(a)),t===1/0)return a;null==t&&(t=10);var o=Math.max(1,i*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*i<i-.5&&(r*=i),r<=o?a(t):""}},r.nice=function(){return a(xe(a(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Ne(){var t=Ee(te()).domain([1,10]);return t.copy=function(){return Jt(t,Ne()).base(t.base())},a.apply(t,arguments),t}function Fe(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ie(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Le(t){var e=1,n=t(Fe(e),Ie(e));return n.constant=function(n){return arguments.length?t(Fe(e=+n),Ie(e)):e},ve(n)}function Te(){var t=Le(te());return t.copy=function(){return Jt(t,Te()).constant(t.constant())},a.apply(t,arguments)}function je(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function De(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Oe(t){return t<0?-t*t:t*t}function Ue(t){var e=t($t,$t),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t($t,$t):.5===n?t(De,Oe):t(je(n),je(1/n)):n},ve(e)}function Ve(){var t=Ue(te());return t.copy=function(){return Jt(t,Ve()).exponent(t.exponent())},a.apply(t,arguments),t}function Pe(){return Ve.apply(null,arguments).exponent(.5)}function Re(t){return Math.sign(t)*t*t}function qe(){var t,e=ee(),n=[0,1],r=!1;function i(n){var a=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(a)?t:r?Math.round(a):a}return i.invert=function(t){return e.invert(Re(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,Wt)).map(Re)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return qe(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},a.apply(i,arguments),ve(i)}var He=function(t){return null===t?NaN:+t};function Be(t,e,n){return function(t,e,n=He){if(!(r=t.length))return;if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return o+(u-o)*(a-i)}(Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)).sort(y),e)}function Ge(){var t,e=[],n=[],r=[];function i(){var t=0,a=Math.max(1,n.length);for(r=new Array(a-1);++t<a;)r[t-1]=Be(e,t/a);return o}function o(e){return isNaN(e=+e)?t:n[w(r,e)]}return o.invertExtent=function(t){var a=n.indexOf(t);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(y),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Ge().domain(e).range(n).unknown(t)},a.apply(o,arguments)}function Ye(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function u(e){return e<=e?o[w(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return u}return u.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},u.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},u.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},u.unknown=function(e){return arguments.length?(t=e,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return Ye().domain([e,n]).range(o).unknown(t)},a.apply(ve(u),arguments)}function ze(){var t,e=[.5],n=[0,1],r=1;function i(a){return a<=a?n[w(e,a,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return ze().domain(e).range(n).unknown(t)},a.apply(i,arguments)}var We=new Date,Xe=new Date;function $e(t,e,n,r){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,u=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return u;do{u.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return u},a.filter=function(n){return $e(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(a.count=function(e,r){return We.setTime(+e),Xe.setTime(+r),t(We),t(Xe),Math.floor(n(We,Xe))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var Ke=$e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ke.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ke:null};var Ze=Ke,Qe=(Ke.range,6e4),Je=6048e5,tn=$e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),en=tn,nn=(tn.range,$e(function(t){t.setTime(Math.floor(t/Qe)*Qe)},function(t,e){t.setTime(+t+e*Qe)},function(t,e){return(e-t)/Qe},function(t){return t.getMinutes()})),rn=nn,an=(nn.range,$e(function(t){var e=t.getTimezoneOffset()*Qe%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),on=an,un=(an.range,$e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qe)/864e5},function(t){return t.getDate()-1})),sn=un;un.range;function cn(t){return $e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qe)/Je})}var ln=cn(0),fn=cn(1),hn=cn(2),pn=cn(3),dn=cn(4),gn=cn(5),yn=cn(6),mn=(ln.range,fn.range,hn.range,pn.range,dn.range,gn.range,yn.range,$e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),vn=mn,bn=(mn.range,$e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));bn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var wn=bn,xn=(bn.range,$e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Qe)},function(t,e){return(e-t)/Qe},function(t){return t.getUTCMinutes()})),_n=xn,kn=(xn.range,$e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Mn=kn,Sn=(kn.range,$e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Cn=Sn;Sn.range;function An(t){return $e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Je})}var En=An(0),Nn=An(1),Fn=An(2),In=An(3),Ln=An(4),Tn=An(5),jn=An(6),Dn=(En.range,Nn.range,Fn.range,In.range,Ln.range,Tn.range,jn.range,$e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),On=Dn,Un=(Dn.range,$e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Un.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Vn=Un;Un.range;function Pn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qn(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Hn,Bn,Gn,Yn,zn={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,Xn=/^%/,$n=/[\\^$*+?|[\]().{}]/g;function Kn(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Zn(t){return t.replace($n,"\\$&")}function Qn(t){return new RegExp("^(?:"+t.map(Zn).join("|")+")","i")}function Jn(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function tr(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function er(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ar(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function or(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ur(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lr(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function hr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gr(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yr(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mr(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vr(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function br(t,e){return Kn(t.getDate(),e,2)}function wr(t,e){return Kn(t.getHours(),e,2)}function xr(t,e){return Kn(t.getHours()%12||12,e,2)}function _r(t,e){return Kn(1+sn.count(wn(t),t),e,3)}function kr(t,e){return Kn(t.getMilliseconds(),e,3)}function Mr(t,e){return kr(t,e)+"000"}function Sr(t,e){return Kn(t.getMonth()+1,e,2)}function Cr(t,e){return Kn(t.getMinutes(),e,2)}function Ar(t,e){return Kn(t.getSeconds(),e,2)}function Er(t){var e=t.getDay();return 0===e?7:e}function Nr(t,e){return Kn(ln.count(wn(t),t),e,2)}function Fr(t,e){var n=t.getDay();return t=n>=4||0===n?dn(t):dn.ceil(t),Kn(dn.count(wn(t),t)+(4===wn(t).getDay()),e,2)}function Ir(t){return t.getDay()}function Lr(t,e){return Kn(fn.count(wn(t),t),e,2)}function Tr(t,e){return Kn(t.getFullYear()%100,e,2)}function jr(t,e){return Kn(t.getFullYear()%1e4,e,4)}function Dr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kn(e/60|0,"0",2)+Kn(e%60,"0",2)}function Or(t,e){return Kn(t.getUTCDate(),e,2)}function Ur(t,e){return Kn(t.getUTCHours(),e,2)}function Vr(t,e){return Kn(t.getUTCHours()%12||12,e,2)}function Pr(t,e){return Kn(1+Cn.count(Vn(t),t),e,3)}function Rr(t,e){return Kn(t.getUTCMilliseconds(),e,3)}function qr(t,e){return Rr(t,e)+"000"}function Hr(t,e){return Kn(t.getUTCMonth()+1,e,2)}function Br(t,e){return Kn(t.getUTCMinutes(),e,2)}function Gr(t,e){return Kn(t.getUTCSeconds(),e,2)}function Yr(t){var e=t.getUTCDay();return 0===e?7:e}function zr(t,e){return Kn(En.count(Vn(t),t),e,2)}function Wr(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Ln(t):Ln.ceil(t),Kn(Ln.count(Vn(t),t)+(4===Vn(t).getUTCDay()),e,2)}function Xr(t){return t.getUTCDay()}function $r(t,e){return Kn(Nn.count(Vn(t),t),e,2)}function Kr(t,e){return Kn(t.getUTCFullYear()%100,e,2)}function Zr(t,e){return Kn(t.getUTCFullYear()%1e4,e,4)}function Qr(){return"+0000"}function Jr(){return"%"}function ta(t){return+t}function ea(t){return Math.floor(+t/1e3)}!function(t){Hn=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,s=t.shortMonths,c=Qn(a),l=Jn(a),f=Qn(i),h=Jn(i),p=Qn(o),d=Jn(o),g=Qn(u),y=Jn(u),m=Qn(s),v=Jn(s),b={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:br,e:br,f:Mr,H:wr,I:xr,j:_r,L:kr,m:Sr,M:Cr,p:function(t){return a[+(t.getHours()>=12)]},Q:ta,s:ea,S:Ar,u:Er,U:Nr,V:Fr,w:Ir,W:Lr,x:null,X:null,y:Tr,Y:jr,Z:Dr,"%":Jr},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Or,e:Or,f:qr,H:Ur,I:Vr,j:Pr,L:Rr,m:Hr,M:Br,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:ta,s:ea,S:Gr,u:Yr,U:zr,V:Wr,w:Xr,W:$r,x:null,X:null,y:Kr,Y:Zr,Z:Qr,"%":Jr},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:cr,e:cr,f:gr,H:fr,I:fr,j:lr,L:dr,m:sr,M:hr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:mr,s:vr,S:pr,u:er,U:nr,V:rr,w:tr,W:ar,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:or,Y:ir,Z:ur,"%":yr};function _(t,e){return function(n){var r,a,i,o=[],u=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(a=zn[r=t.charAt(++u)])?r=t.charAt(++u):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function k(t,e){return function(n){var r,a,i=qn(1900);if(M(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(r=(a=(r=Rn(qn(i.y))).getUTCDay())>4||0===a?Nn.ceil(r):Nn(r),r=Cn.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(r=(a=(r=e(qn(i.y))).getDay())>4||0===a?fn.ceil(r):fn(r),r=sn.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Rn(qn(i.y)).getUTCDay():e(qn(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Rn(i)):e(i)}}function M(t,e,n,r){for(var a,i,o=0,u=e.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=x[a in zn?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Pn);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,Rn);return e.toString=function(){return t},e}}}(t),Bn=Hn.format,Hn.parse,Gn=Hn.utcFormat,Yn=Hn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Gn("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Yn("%Y-%m-%dT%H:%M:%S.%LZ");var na=1e3,ra=60*na,aa=60*ra,ia=24*aa,oa=7*ia,ua=30*ia,sa=365*ia;function ca(t){return new Date(t)}function la(t){return t instanceof Date?+t:+new Date(+t)}function fa(t,e,n,r,a,i,o,u,s){var c=ee(),l=c.invert,f=c.domain,h=s(".%L"),p=s(":%S"),d=s("%I:%M"),y=s("%I %p"),v=s("%a %d"),b=s("%b %d"),w=s("%B"),x=s("%Y"),_=[[o,1,na],[o,5,5*na],[o,15,15*na],[o,30,30*na],[i,1,ra],[i,5,5*ra],[i,15,15*ra],[i,30,30*ra],[a,1,aa],[a,3,3*aa],[a,6,6*aa],[a,12,12*aa],[r,1,ia],[r,2,2*ia],[n,1,oa],[e,1,ua],[e,3,3*ua],[t,1,sa]];function k(u){return(o(u)<u?h:i(u)<u?p:a(u)<u?d:r(u)<u?y:e(u)<u?n(u)<u?v:b:t(u)<u?w:x)(u)}function M(e,n,r){if(null==e&&(e=10),"number"==typeof e){var a,i=Math.abs(r-n)/e,o=m(function(t){return t[2]}).right(_,i);return o===_.length?(a=g(n/sa,r/sa,e),e=t):o?(a=(o=_[i/_[o-1][2]<_[o][2]/i?o-1:o])[1],e=o[0]):(a=Math.max(g(n,r,e),1),e=u),e.every(a)}return e}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?f(Array.from(t,la)):f().map(ca)},c.ticks=function(t){var e,n=f(),r=n[0],a=n[n.length-1],i=a<r;return i&&(e=r,r=a,a=e),e=(e=M(t,r,a))?e.range(r,a+1):[],i?e.reverse():e},c.tickFormat=function(t,e){return null==e?k:s(e)},c.nice=function(t){var e=f();return(t=M(t,e[0],e[e.length-1]))?f(xe(e,t)):c},c.copy=function(){return Jt(c,fa(t,e,n,r,a,i,o,u,s))},c}var ha=function(){return a.apply(fa(wn,vn,ln,sn,on,rn,en,Ze,Bn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},pa=function(){return a.apply(fa(Vn,On,En,Cn,Mn,_n,en,Ze,Gn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function da(){var t,e,n,r,a,i=0,o=1,u=$t,s=!1;function c(e){return isNaN(e=+e)?a:u(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}return c.domain=function(a){return arguments.length?([i,o]=a,t=r(i=+i),e=r(o=+o),n=t===e?0:1/(e-t),c):[i,o]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.range=function(){return[u(0),u(1)]},c.unknown=function(t){return arguments.length?(a=t,c):a},function(a){return r=a,t=a(i),e=a(o),n=t===e?0:1/(e-t),c}}function ga(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ya(){var t=ve(da()($t));return t.copy=function(){return ga(t,ya())},i.apply(t,arguments)}function ma(){var t=Ee(da()).domain([1,10]);return t.copy=function(){return ga(t,ma()).base(t.base())},i.apply(t,arguments)}function va(){var t=Le(da());return t.copy=function(){return ga(t,va()).constant(t.constant())},i.apply(t,arguments)}function ba(){var t=Ue(da());return t.copy=function(){return ga(t,ba()).exponent(t.exponent())},i.apply(t,arguments)}function wa(){return ba.apply(null,arguments).exponent(.5)}function xa(){var t=[],e=$t;function n(n){if(!isNaN(n=+n))return e((w(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(y),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map((n,r)=>e(r/(t.length-1)))},n.copy=function(){return xa(e).domain(t)},i.apply(n,arguments)}function _a(){var t,e,n,r,a,i,o,u=0,s=.5,c=1,l=1,f=$t,h=!1;function p(t){return isNaN(t=+t)?o:(t=.5+((t=+i(t))-e)*(l*t<l*e?r:a),f(h?Math.max(0,Math.min(1,t)):t))}return p.domain=function(o){return arguments.length?([u,s,c]=o,t=i(u=+u),e=i(s=+s),n=i(c=+c),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),l=e<t?-1:1,p):[u,s,c]},p.clamp=function(t){return arguments.length?(h=!!t,p):h},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.range=function(){return[f(0),f(.5),f(1)]},p.unknown=function(t){return arguments.length?(o=t,p):o},function(o){return i=o,t=o(u),e=o(s),n=o(c),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),l=e<t?-1:1,p}}function ka(){var t=ve(_a()($t));return t.copy=function(){return ga(t,ka())},i.apply(t,arguments)}function Ma(){var t=Ee(_a()).domain([.1,1,10]);return t.copy=function(){return ga(t,Ma()).base(t.base())},i.apply(t,arguments)}function Sa(){var t=Le(_a());return t.copy=function(){return ga(t,Sa()).constant(t.constant())},i.apply(t,arguments)}function Ca(){var t=Ue(_a());return t.copy=function(){return ga(t,Ca()).exponent(t.exponent())},i.apply(t,arguments)}function Aa(){return Ca.apply(null,arguments).exponent(.5)}n.d(e,"scaleBand",function(){return s}),n.d(e,"scalePoint",function(){return c}),n.d(e,"scaleIdentity",function(){return we}),n.d(e,"scaleLinear",function(){return be}),n.d(e,"scaleLog",function(){return Ne}),n.d(e,"scaleSymlog",function(){return Te}),n.d(e,"scaleOrdinal",function(){return u}),n.d(e,"scaleImplicit",function(){return o}),n.d(e,"scalePow",function(){return Ve}),n.d(e,"scaleSqrt",function(){return Pe}),n.d(e,"scaleRadial",function(){return qe}),n.d(e,"scaleQuantile",function(){return Ge}),n.d(e,"scaleQuantize",function(){return Ye}),n.d(e,"scaleThreshold",function(){return ze}),n.d(e,"scaleTime",function(){return ha}),n.d(e,"scaleUtc",function(){return pa}),n.d(e,"scaleSequential",function(){return ya}),n.d(e,"scaleSequentialLog",function(){return ma}),n.d(e,"scaleSequentialPow",function(){return ba}),n.d(e,"scaleSequentialSqrt",function(){return wa}),n.d(e,"scaleSequentialSymlog",function(){return va}),n.d(e,"scaleSequentialQuantile",function(){return xa}),n.d(e,"scaleDiverging",function(){return ka}),n.d(e,"scaleDivergingLog",function(){return Ma}),n.d(e,"scaleDivergingPow",function(){return Ca}),n.d(e,"scaleDivergingSqrt",function(){return Aa}),n.d(e,"scaleDivergingSymlog",function(){return Sa}),n.d(e,"tickFormat",function(){return me})},function(t,e,n){"use strict";n.r(e);var r=function(t,e){var n;function r(){var r,a,i=n.length,o=0,u=0;for(r=0;r<i;++r)o+=(a=n[r]).x,u+=a.y;for(o=o/i-t,u=u/i-e,r=0;r<i;++r)(a=n[r]).x-=o,a.y-=u}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r};function a(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var a,i,o,u,s,c,l,f,h,p=t._root,d={data:r},g=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(i=(g+m)/2))?g=i:m=i,(l=n>=(o=(y+v)/2))?y=o:v=o,a=p,!(p=p[f=l<<1|c]))return a[f]=d,t;if(u=+t._x.call(null,p.data),s=+t._y.call(null,p.data),e===u&&n===s)return d.next=p,a?a[f]=d:t._root=d,t;do{a=a?a[f]=new Array(4):t._root=new Array(4),(c=e>=(i=(g+m)/2))?g=i:m=i,(l=n>=(o=(y+v)/2))?y=o:v=o}while((f=l<<1|c)==(h=(s>=o)<<1|u>=i));return a[h]=p,a[f]=d,t}var i=function(t,e,n,r,a){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=a};function o(t){return t[0]}function u(t){return t[1]}function s(t,e,n){var r=new c(null==e?o:e,null==n?u:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function c(t,e,n,r,a,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function l(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var f=s.prototype=c.prototype;f.copy=function(){var t,e,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(e=r.source[a])&&(e.length?t.push({source:e,target:r.target[a]=new Array(4)}):r.target[a]=l(e));return n},f.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return a(this.cover(e,n),e,n,t)},f.addAll=function(t){var e,n,r,i,o=t.length,u=new Array(o),s=new Array(o),c=1/0,l=1/0,f=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(u[n]=r,s[n]=i,r<c&&(c=r),r>f&&(f=r),i<l&&(l=i),i>h&&(h=i));if(c>f||l>h)return this;for(this.cover(c,l).cover(f,h),n=0;n<o;++n)a(this,u[n],s[n],t[n]);return this},f.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var o,u,s=a-n,c=this._root;n>t||t>=a||r>e||e>=i;)switch(u=(e<r)<<1|t<n,(o=new Array(4))[u]=c,c=o,s*=2,u){case 0:a=n+s,i=r+s;break;case 1:n=a-s,i=r+s;break;case 2:a=n+s,r=i-s;break;case 3:n=a-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this},f.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},f.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(t,e,n){var r,a,o,u,s,c,l,f=this._x0,h=this._y0,p=this._x1,d=this._y1,g=[],y=this._root;for(y&&g.push(new i(y,f,h,p,d)),null==n?n=1/0:(f=t-n,h=e-n,p=t+n,d=e+n,n*=n);c=g.pop();)if(!(!(y=c.node)||(a=c.x0)>p||(o=c.y0)>d||(u=c.x1)<f||(s=c.y1)<h))if(y.length){var m=(a+u)/2,v=(o+s)/2;g.push(new i(y[3],m,v,u,s),new i(y[2],a,v,m,s),new i(y[1],m,o,u,v),new i(y[0],a,o,m,v)),(l=(e>=v)<<1|t>=m)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-l],g[g.length-1-l]=c)}else{var b=t-+this._x.call(null,y.data),w=e-+this._y.call(null,y.data),x=b*b+w*w;if(x<n){var _=Math.sqrt(n=x);f=t-_,h=e-_,p=t+_,d=e+_,r=y.data}}return r},f.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,a,i,o,u,s,c,l,f,h,p=this._root,d=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((c=i>=(u=(d+y)/2))?d=u:y=u,(l=o>=(s=(g+m)/2))?g=s:m=s,e=p,!(p=p[f=l<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(a=p.next)&&delete p.next,r?(a?r.next=a:delete r.next,this):e?(a?e[f]=a:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=a,this)},f.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},f.root=function(){return this._root},f.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},f.visit=function(t){var e,n,r,a,o,u,s=[],c=this._root;for(c&&s.push(new i(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,a=e.y0,o=e.x1,u=e.y1)&&c.length){var l=(r+o)/2,f=(a+u)/2;(n=c[3])&&s.push(new i(n,l,f,o,u)),(n=c[2])&&s.push(new i(n,r,f,l,u)),(n=c[1])&&s.push(new i(n,l,a,o,f)),(n=c[0])&&s.push(new i(n,r,a,l,f))}return this},f.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a=e.node;if(a.length){var o,u=e.x0,s=e.y0,c=e.x1,l=e.y1,f=(u+c)/2,h=(s+l)/2;(o=a[0])&&n.push(new i(o,u,s,f,h)),(o=a[1])&&n.push(new i(o,f,s,c,h)),(o=a[2])&&n.push(new i(o,u,h,f,l)),(o=a[3])&&n.push(new i(o,f,h,c,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},f.x=function(t){return arguments.length?(this._x=t,this):this._x},f.y=function(t){return arguments.length?(this._y=t,this):this._y};var h=function(t){return function(){return t}},p=function(){return 1e-6*(Math.random()-.5)};function d(t){return t.x+t.vx}function g(t){return t.y+t.vy}var y=function(t){var e,n,r=1,a=1;function i(){for(var t,i,u,c,l,f,h,y=e.length,m=0;m<a;++m)for(i=s(e,d,g).visitAfter(o),t=0;t<y;++t)u=e[t],f=n[u.index],h=f*f,c=u.x+u.vx,l=u.y+u.vy,i.visit(v);function v(t,e,n,a,i){var o=t.data,s=t.r,d=f+s;if(!o)return e>c+d||a<c-d||n>l+d||i<l-d;if(o.index>u.index){var g=c-o.x-o.vx,y=l-o.y-o.vy,m=g*g+y*y;m<d*d&&(0===g&&(m+=(g=p())*g),0===y&&(m+=(y=p())*y),m=(d-(m=Math.sqrt(m)))/m*r,u.vx+=(g*=m)*(d=(s*=s)/(h+s)),u.vy+=(y*=m)*d,o.vx-=g*(d=1-d),o.vy-=y*d)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,a,i=e.length;for(n=new Array(i),r=0;r<i;++r)a=e[r],n[a.index]=+t(a,r,e)}}return"function"!=typeof t&&(t=h(null==t?1:+t)),i.initialize=function(t){e=t,u()},i.iterations=function(t){return arguments.length?(a=+t,i):a},i.strength=function(t){return arguments.length?(r=+t,i):r},i.radius=function(e){return arguments.length?(t="function"==typeof e?e:h(+e),u(),i):t},i};function m(t){return t.index}function v(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var b=function(t){var e,n,r,a,i,o=m,u=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},s=h(30),c=1;function l(r){for(var a=0,o=t.length;a<c;++a)for(var u,s,l,f,h,d,g,y=0;y<o;++y)s=(u=t[y]).source,f=(l=u.target).x+l.vx-s.x-s.vx||p(),h=l.y+l.vy-s.y-s.vy||p(),f*=d=((d=Math.sqrt(f*f+h*h))-n[y])/d*r*e[y],h*=d,l.vx-=f*(g=i[y]),l.vy-=h*g,s.vx+=f*(g=1-g),s.vy+=h*g}function f(){if(r){var u,s,c=r.length,l=t.length,f=new Map(r.map((t,e)=>[o(t,e,r),t]));for(u=0,a=new Array(c);u<l;++u)(s=t[u]).index=u,"object"!=typeof s.source&&(s.source=v(f,s.source)),"object"!=typeof s.target&&(s.target=v(f,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(u=0,i=new Array(l);u<l;++u)s=t[u],i[u]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);e=new Array(l),d(),n=new Array(l),g()}}function d(){if(r)for(var n=0,a=t.length;n<a;++n)e[n]=+u(t[n],n,t)}function g(){if(r)for(var e=0,a=t.length;e<a;++e)n[e]=+s(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(e){return arguments.length?(t=e,f(),l):t},l.id=function(t){return arguments.length?(o=t,l):o},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(u="function"==typeof t?t:h(+t),d(),l):u},l.distance=function(t){return arguments.length?(s="function"==typeof t?t:h(+t),g(),l):s},l},w={value:function(){}};function x(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new _(r)}function _(t){this._=t}function k(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function M(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=w,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}_.prototype=x.prototype={constructor:_,on:function(t,e){var n,r=this._,a=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=M(r[n],t.name,e);else if(null==e)for(n in r)r[n]=M(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=k(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var S,C,A=x,E=0,N=0,F=0,I=1e3,L=0,T=0,j=0,D="object"==typeof performance&&performance.now?performance:Date,O="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function U(){return T||(O(V),T=D.now()+j)}function V(){T=0}function P(){this._call=this._time=this._next=null}function R(t,e,n){var r=new P;return r.restart(t,e,n),r}function q(){T=(L=D.now())+j,E=N=0;try{!function(){U(),++E;for(var t,e=S;e;)(t=T-e._time)>=0&&e._call.call(null,t),e=e._next;--E}()}finally{E=0,function(){var t,e,n=S,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:S=e);C=t,B(r)}(),T=0}}function H(){var t=D.now(),e=t-L;e>I&&(j-=e,L=t)}function B(t){E||(N&&(N=clearTimeout(N)),t-T>24?(t<1/0&&(N=setTimeout(q,t-D.now()-j)),F&&(F=clearInterval(F))):(F||(L=D.now(),F=setInterval(H,I)),E=1,O(q)))}P.prototype=R.prototype={constructor:P,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?U():+n)+(null==e?0:+e),this._next||C===this||(C?C._next=this:S=this,C=this),this._call=t,this._time=n,B()},stop:function(){this._call&&(this._call=null,this._time=1/0,B())}};function G(t){return t.x}function Y(t){return t.y}var z=10,W=Math.PI*(3-Math.sqrt(5)),X=function(t){var e,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,u=new Map,s=R(l),c=A("tick","end");function l(){f(),c.call("tick",e),n<r&&(s.stop(),c.call("end",e))}function f(r){var s,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*a,u.forEach(function(t){t(n)}),s=0;s<l;++s)null==(c=t[s]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var a=z*Math.sqrt(n),i=n*W;e.x=a*Math.cos(i),e.y=a*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return s.restart(l),e},stop:function(){return s.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),u.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(a=+t,e):+a},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,p(n)),e):u.get(t)},find:function(e,n,r){var a,i,o,u,s,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(a=e-(u=t[c]).x)*a+(i=n-u.y)*i)<r&&(s=u,r=o);return s},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},$=function(){var t,e,n,r,a=h(-30),i=1,o=1/0,u=.81;function c(r){var a,i=t.length,o=s(t,G,Y).visitAfter(f);for(n=r,a=0;a<i;++a)e=t[a],o.visit(d)}function l(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+a(n,e,t)}}function f(t){var e,n,a,i,o,u=0,s=0;if(t.length){for(a=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,a+=n*e.x,i+=n*e.y);t.x=a/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=r[e.data.index]}while(e=e.next)}t.value=u}function d(t,a,s,c){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,h=c-a,d=l*l+f*f;if(h*h/u<d)return d<o&&(0===l&&(d+=(l=p())*l),0===f&&(d+=(f=p())*f),d<i&&(d=Math.sqrt(i*d)),e.vx+=l*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=o)){(t.data!==e||t.next)&&(0===l&&(d+=(l=p())*l),0===f&&(d+=(f=p())*f),d<i&&(d=Math.sqrt(i*d)));do{t.data!==e&&(h=r[t.data.index]*n/d,e.vx+=l*h,e.vy+=f*h)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),l(),c):a},c.distanceMin=function(t){return arguments.length?(i=t*t,c):Math.sqrt(i)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c},K=function(t,e,n){var r,a,i,o=h(.1);function u(t){for(var o=0,u=r.length;o<u;++o){var s=r[o],c=s.x-e||1e-6,l=s.y-n||1e-6,f=Math.sqrt(c*c+l*l),h=(i[o]-f)*a[o]*t/f;s.vx+=c*h,s.vy+=l*h}}function s(){if(r){var e,n=r.length;for(a=new Array(n),i=new Array(n),e=0;e<n;++e)i[e]=+t(r[e],e,r),a[e]=isNaN(i[e])?0:+o(r[e],e,r)}}return"function"!=typeof t&&(t=h(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){r=t,s()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:h(+t),s(),u):o},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:h(+e),s(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u},Z=function(t){var e,n,r,a=h(.1);function i(t){for(var a,i=0,o=e.length;i<o;++i)(a=e[i]).vx+=(r[i]-a.x)*n[i]*t}function o(){if(e){var i,o=e.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+a(e[i],i,e)}}return"function"!=typeof t&&(t=h(null==t?0:+t)),i.initialize=function(t){e=t,o()},i.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),o(),i):a},i.x=function(e){return arguments.length?(t="function"==typeof e?e:h(+e),o(),i):t},i},Q=function(t){var e,n,r,a=h(.1);function i(t){for(var a,i=0,o=e.length;i<o;++i)(a=e[i]).vy+=(r[i]-a.y)*n[i]*t}function o(){if(e){var i,o=e.length;for(n=new Array(o),r=new Array(o),i=0;i<o;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+a(e[i],i,e)}}return"function"!=typeof t&&(t=h(null==t?0:+t)),i.initialize=function(t){e=t,o()},i.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),o(),i):a},i.y=function(e){return arguments.length?(t="function"==typeof e?e:h(+e),o(),i):t},i};n.d(e,"forceCenter",function(){return r}),n.d(e,"forceCollide",function(){return y}),n.d(e,"forceLink",function(){return b}),n.d(e,"forceManyBody",function(){return $}),n.d(e,"forceRadial",function(){return K}),n.d(e,"forceSimulation",function(){return X}),n.d(e,"forceX",function(){return Z}),n.d(e,"forceY",function(){return Q})},function(t,e,n){"use strict";function r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}n.r(e);var a=function(t,e){return fetch(t,e).then(r)};function i(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var o=function(t,e){return fetch(t,e).then(i)},u={},s={},c=34,l=10,f=13;function h(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function p(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function d(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function g(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+d(-t,6):t>9999?"+"+d(t,6):d(t,4)}(t.getUTCFullYear())+"-"+d(t.getUTCMonth()+1,2)+"-"+d(t.getUTCDate(),2)+(a?"T"+d(e,2)+":"+d(n,2)+":"+d(r,2)+"."+d(a,3)+"Z":r?"T"+d(e,2)+":"+d(n,2)+":"+d(r,2)+"Z":n||e?"T"+d(e,2)+":"+d(n,2)+"Z":"")}var y=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,o=0,h=0,p=i<=0,d=!1;function g(){if(p)return s;if(d)return d=!1,u;var e,r,a=o;if(t.charCodeAt(a)===c){for(;o++<i&&t.charCodeAt(o)!==c||t.charCodeAt(++o)===c;);return(e=o)>=i?p=!0:(r=t.charCodeAt(o++))===l?d=!0:r===f&&(d=!0,t.charCodeAt(o)===l&&++o),t.slice(a+1,e-1).replace(/""/g,'"')}for(;o<i;){if((r=t.charCodeAt(e=o++))===l)d=!0;else if(r===f)d=!0,t.charCodeAt(o)===l&&++o;else if(r!==n)continue;return t.slice(a,e)}return p=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===l&&--i,t.charCodeAt(i-1)===f&&--i;(r=g())!==s;){for(var y=[];r!==u&&r!==s;)y.push(r),r=g();e&&null==(y=e(y,h++))||a.push(y)}return a}function a(e,n){return e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?g(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=h(t);return function(r,a){return e(n(r),a,t)}}(t,e):h(t)});return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=p(e)),[n.map(o).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=p(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},m=y(","),v=m.parse,b=(m.parseRows,m.format,m.formatBody,m.formatRows,y("\t")),w=b.parse;b.parseRows,b.format,b.formatBody,b.formatRows;function x(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var _=function(t,e){return fetch(t,e).then(x)};function k(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),_(e,n).then(function(e){return t(e,r)})}}function M(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var a=y(t);return _(e,n).then(function(t){return a.parse(t,r)})}var S=k(v),C=k(w),A=function(t,e){return new Promise(function(n,r){var a=new Image;for(var i in e)a[i]=e[i];a.onerror=r,a.onload=function(){n(a)},a.src=t})};function E(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var N=function(t,e){return fetch(t,e).then(E)};function F(t){return function(e,n){return _(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var I=F("application/xml"),L=F("text/html"),T=F("image/svg+xml");n.d(e,"blob",function(){return a}),n.d(e,"buffer",function(){return o}),n.d(e,"dsv",function(){return M}),n.d(e,"csv",function(){return S}),n.d(e,"tsv",function(){return C}),n.d(e,"image",function(){return A}),n.d(e,"json",function(){return N}),n.d(e,"text",function(){return _}),n.d(e,"xml",function(){return I}),n.d(e,"html",function(){return L}),n.d(e,"svg",function(){return T})}]);